<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Event Message</title>
    <link rel="StyleSheet" href="css/bc_rulesets.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>BillingCenter Rules Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-rules.html#16442342">Gosu Business Rules</a> : <a class="WebWorks_Breadcrumb_Link" href="bc_rulesets.09.1.html#16442342">Rule Set Categories</a> : Event Message</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="16442342">Event Message</a></h3>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="16442346">BillingCenter runs the Event Message rules as part of the database bundle commit process. Only use these rules to create integration messages.</a></div>
      <div class="B_-_Body"><a name="16605086">In the base configuration, there is a single rule set—Event Fired—in the Event Message rule category. The rules in this rule set:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16605087">Perform event processing</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16605088">Generate messages about events that have occurred</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="16605092">BillingCenter calls the Event Fired rules if an entity involved in a bundle commit triggers an event for which a message destination has registered interest. As part of the event processing:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16605093">BillingCenter runs the rules in the Event Fired rule set once for every event for which a message destination has registered interest.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16605094">BillingCenter runs the Event Fired rule set once for each destination that is listening for that particular event. Thus, it is possible for BillingCenter to run the Event Fired rules sets multiple times for each event, once for each destination interested in that event.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="16646618">In a normal bundle commit any new or updated entity can generate an event. This event can be detected in the event messaging rules and used to create a new message for communicating with an external system. BillingCenter uses bulk updates to maintain many denormalized values. If the only change to an entity is a bulk update change then that entity does not appear as a modified entity in the bundle. Therefore the entity change does not fire an event. </a></div>
      <div class="B_-_Body"><a name="16646620">Typically, the update of a denormalized field is not important to business logic because denormalization is used to cache information that is already stored elsewhere. Write rules to detect changes to the original entity rather than side effects of those changes. For example, look for </a><span class="cv_-_computer_voice">TransactionAdded</span> rather than looking for changes in the <span class="cv_-_computer_voice">AmountDenorm</span> of a <span class="cv_-_computer_voice">TAccount</span>.</div>
      <h6 class="HS_-_Head_Sub"><a name="16605095">Messaging Events</a></h6>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="16605099">BillingCenter automatically generates certain</a><span class="e_-_emphasis"> </span>events for most top-level objects. (Guidewire calls these events <span class="e_-_emphasis">standard</span> events.) In general, this occurs for any addition, modification, or removal (or retirement) of a top-level entity. BillingCenter automatically generates the following events on the <span class="cv_-_computer_voice">Activity</span> object:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt; margin-bottom: 2.0pt; vertical-align: baseline">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap; color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cv_-_computer_voice"><a name="16605103">ActivityAdded</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt; margin-bottom: 2.0pt; vertical-align: baseline">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap; color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cv_-_computer_voice"><a name="16605104">ActivityChanged</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt; margin-bottom: 2.0pt; vertical-align: baseline">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap; color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cv_-_computer_voice"><a name="16605105">ActivityRemoved</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="16605106">It is also possible to create a custom event on an entity by using the </a><span class="cv_-_computer_voice">addEvent</span> method. This method takes a single parameter, <span class="p_-_parameter">eventName</span>, which is a <span class="cv_-_computer_voice">String</span> value that sets the name of the event.</div>
      <div class="CS_-_Code_Single_Line"><span class="pc_-_parameter_in_code"><a name="16605107">entity</a></span>.addEvent(<span class="pc_-_parameter_in_code">eventName</span>)</div>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="16605108">For information on...</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16605111">Base configuration events, see </a><a href="javascript:WWHClickedPopup('integration', 'eventsmessaging.23.04.html#3961737', '');" title="List of Messaging Events in BillingCenter">“List of Messaging Events in BillingCenter” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('integration', 'eventsmessaging.23.04.html#3961737', '');" title="List of Messaging Events in BillingCenter">Integration Guide</a></span>. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16605116">Custom events, see </a><a href="javascript:WWHClickedPopup('integration', 'eventsmessaging.23.04.html#4280184', '');" title="List of Messaging Events in BillingCenter">“Triggering Custom Event Names” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('integration', 'eventsmessaging.23.04.html#4280184', '');" title="List of Messaging Events in BillingCenter">Integration Guide</a></span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <h6 class="HS_-_Head_Sub"><a name="16604703">Message Destinations and Message Events</a></h6>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="16604704">You use the Studio Messaging editor to define message destinations and message events. </a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16604705">A </a><span class="e_-_emphasis">message destination</span> is an external system to which it is possible to send messages. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16604709">A </a><span class="e_-_emphasis">message event</span> is an abstract notification of a change in BillingCenter that is of possible interest to an external system. For example, this can be adding, changing, or removing a Guidewire entity.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="16604724">Using the editor, it is possible to associate (register) one or more events with a particular message definition. For example, in the base configuration, BillingCenter associates the following events with the </a><span class="cv_-_computer_voice">PAS</span> (Policy Administration System) message destination (ID=100):</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt; margin-bottom: 2.0pt; vertical-align: baseline">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap; color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cv_-_computer_voice"><a name="16604517">PAS_(\w)*</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="16604523">If you modify, add, or remove a </a><span class="cv_-_computer_voice">Contact</span> object (among others), BillingCenter generates the relevant event. Then, during a bundle commit of the <span class="cv_-_computer_voice">Contact</span> object, BillingCenter notifies any Event Message rule that has registered an interest in one of these events that the event has occurred. You can then use this information to generate a message to send to an external system or to the system console for logging purposes, for example.</div>
      <h6 class="HS_-_Head_Sub"><a name="16604745">Message Destinations and Message Plugins</a></h6>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="16604746">Each message destination encapsulates all the necessary behavior for an external system, but uses three different plugin interfaces to implement the destination. Each plugin handles different parts of what a destination does. Thus:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16604747">The message request plugin handles message pre-processing. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16604748">The message transport plugin handles message transport.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16604749">The message reply plugin handles message replies. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="16604750">You register new messaging plugins in Studio first in the Plugins editor. After you create a new implementation, Studio prompts you for a plugin interface name, and, in some cases, a plugin name. Use that plugin name in the Messaging editor in Studio to register each destination. Remember that you need to register your plugin in two different editors in Studio.</a></div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="16604757">After the BillingCenter application server starts, BillingCenter initializes all message destinations. BillingCenter saves a list of events for which each destination requested notifications. As this happens at system start-up, you must restart the BillingCenter application if you change the list of events or destinations.</a></div>
      <h6 class="HS_-_Head_Sub"><a name="16604733">Generating Messages</a></h6>
      <div class="B_-_Body"><a name="16604529">Use method </a><span class="cv_-_computer_voice">createMessage</span> to create the message text, which can be either a simple text message or a more involved constructed message. The following code is an example of a simple text message that uses the Gosu in-line dynamic template functionality to construct the message. Gosu in-line dynamic templates combine static text with values from variables or other calculations that Gosu evaluates at run time. For example, the following <span class="cv_-_computer_voice">createMessage</span> method call creates a message that lists the event name and the entity that triggered this rule set.</div>
      <div class="CS_-_Code_Single_Line"><a name="16604530">messageContext.createMessage("${messageContext.EventName} - ${messageContext.Root}")</a></div>
      <div class="B_-_Body"><a name="16604622">The following is an example of a constructed message that provides more detailed information if BillingCenter adds an account successfully.</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="16604623">if (messageContext.EventName == "AccountAdded") {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16604624">&nbsp;&nbsp;var account = messageContext.Root as Account</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16604625">&nbsp;&nbsp;messageContext.createMessage("Account [" + account.AccountNumber + "] added")</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="16604626">}</a></PRE>
      <h6 class="HS_-_Head_Sub"><a name="16604986">A Word of Warning</a></h6>
      <div class="B_-_Body"><a name="16604987">Be extremely careful about modifying entity data in Event Fired rules and messaging plugin implementations. Use these rule to perform only the minimal data changes necessary for integration code. Entity changes in these code locations do not cause the application to run or re-run validation or preupdate rules. Therefore, do not change fields that might require those rules to re-run. Only change fields that are not modifiable from the user interface. For example, set custom data model extension flags only used by messaging code. </a></div>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="16604988">Guidewire does not support the following:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16604989">Guidewire does not support (and, it is dangerous) to add or delete business entities from Event Fired rules or messaging plugins (even indirectly through other APIs). </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16604990">Guidewire does not support—even within the Event Message rule set—calling any message acknowledgment or skipping methods such as </a><span class="cv_-_computer_voice">reportAck</span>, <span class="cv_-_computer_voice">reportError</span>, or <span class="cv_-_computer_voice">skip</span>. Use those methods only within messaging plugins. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16604991">Guidewire does not support creating messages outside of the Event Message rule set.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <h6 class="HS_-_Head_Sub"><a name="16604947">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'eventsmessaging.23.01.html#4197044', '');" title="Messaging and Events" name="16604951">“Messaging and Events” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('integration', 'eventsmessaging.23.01.html#4197044', '');" title="Messaging and Events">Integration Guide</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'eventsmessaging.23.04.html#3961737', '');" title="List of Messaging Events in BillingCenter" name="16604955">“List of Messaging Events in BillingCenter” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('integration', 'eventsmessaging.23.04.html#3961737', '');" title="List of Messaging Events in BillingCenter">Integration Guide</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('config', 'studio_messaging.17.1.html#1178213', '');" title="Using the Messaging Editor" name="16604959">“Using the Messaging Editor” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('config', 'studio_messaging.17.1.html#1178213', '');" title="Using the Messaging Editor">Configuration Guide</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="16604900">Detecting Object Changes</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="16604901">It is possible that you want to listen for a change in an object that does not automatically trigger an event if you update it. For example, suppose that you want to listen for a change to the </a><span class="cv_-_computer_voice">User</span> object (an update of the address, perhaps). However, in this case, the <span class="cv_-_computer_voice">User</span> object itself does not contain an address. Instead, BillingCenter stores addresses as an array on <span class="cv_-_computer_voice">UserContact</span>, which is an extension of <span class="cv_-_computer_voice">Person</span>, which is a subtype of <span class="cv_-_computer_voice">Contact</span>, which points to <span class="cv_-_computer_voice">User</span>. Therefore, updating an address does not directly in itself touch the <span class="cv_-_computer_voice">User</span> object.</div>
      <div class="B_-_Body"><a name="16604908">However, in an Event Message rule, you can listen for the </a><span class="cv_-_computer_voice">ContactChanged</span> event that BillingCenter generates every time that the address changes. The following example illustrates this concept. (It prints out a message to the system console anytime that the address changes. In actual practice, you would use a different message destination, of course.)</div>
      <h6 class="HS_-_Head_Sub"><a name="16604909">Condition</a></h6>
      <PRE class="CF_-_Code_First_Line"><a name="16604910">//DestID 68 is the Console Message Logger</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="16604911">messageContext.DestID == 68 and messageContext.EventName == "ContactChanged"</a></PRE>
      <h6 class="HS_-_Head_Sub"><a name="16604912">Action</a></h6>
      <PRE class="CF_-_Code_First_Line"><a name="16604913">uses gw.api.util.ArrayUtil</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16604914">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16604915">var message = messageContext.createMessage( "Event: " + messageContext.EventName )</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16604916">var contact = message.MessageRoot as Contact</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16604917">var fields = contact.PrimaryAddress.ChangedFields</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="16604918">print( ArrayUtil.toString( fields ) )</a></PRE>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>