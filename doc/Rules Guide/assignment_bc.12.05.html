<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Primary and Secondary Assignment</title>
    <link rel="StyleSheet" href="css/assignment_bc.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>BillingCenter Rules Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-rules_advanced.html#16077156">Advanced Topics</a> : <a class="WebWorks_Breadcrumb_Link" href="assignment_bc.12.01.html#16077156">Assignment in BillingCenter</a> : Primary and Secondary Assignment</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="16077156">Primary and Secondary Assignment</a></h3>
      <div class="B_-_Body"><a name="16041042">At its core, the concept of assignment in Guidewire BillingCenter is basically equivalent to ownership. The user to whom you assign an activity, for example, is the user who owns that activity, and who, therefore, has primary responsibility for it. Ownership of a </a><span class="cv_-_computer_voice">TroubleTicket</span> entity, for example, works in a similar fashion. Guidewire defines an entity that someone can own in this way as <span class="e_-_emphasis">assignable</span>. </div>
      <div class="B_-_Body"><a name="16076365">Assignment in Guidewire BillingCenter is always made to a user and a group, as a pair (group, user). However, the assignment of the user is not dependent on the group. In other words, you can assign a user that is not a member of the specified group.</a></div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="16076369">In the base configuration, BillingCenter provides assignment methods that take only a user and that assign the entity to the default group for that user. Guidewire has now deprecated these types of assignment methods. </a><span class="e_-_emphasis">Do not use them.</span> Guidewire recommends that you rework any existing assignment methods that only take a user into assignment methods that take both a user and a group.</div>
      <div class="B_-_Body"><a name="16077509">Guidewire BillingCenter distinguishes between two different types of assignment:</a></div>
      <div class="T_-_Table"><a name="16074270">&nbsp;</a></div>
      <table class="withoutHeading" style="text-align: left" border="0" cellpadding="10" cellspacing="0" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: Arial; font-style: italic; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="e_-_emphasis"><a href="javascript:WWHClickedPopup('rules', 'assignment_bc.12.05.html#16074307', '');" title="Primary and Secondary Assignment" name="16074260">Primary (User-based) Assignment</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="16074262">Also known as user-based assignment, this type of assignment assigns an object that implements the </a><span class="cvt_-_computer_voice_table">Assignable</span> delegate to a particular user.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: Arial; font-style: italic; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="e_-_emphasis"><a href="javascript:WWHClickedPopup('rules', 'assignment_bc.12.05.html#16041127', '');" title="Primary and Secondary Assignment" name="16074267">Secondary (Role-based) Assignment</a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="16074269">Also known as role-based assignment, this type of assignment assigns an object that implements the </a><span class="cvt_-_computer_voice_table">RoleAssignments</span> array to a particular user role. (Each role is held by a single user at a time, even though the user who holds that role can change over time.)</div>
          </td>
        </tr>
      </table>
      <h4 class="H2_-_Heading_2"><a name="16074307">Primary (User-based) Assignment</a></h4>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="16074056">BillingCenter uses </a><span class="e_-_emphasis">primary</span> assignment in the context of ownership. For example, only a single user (and group) can own an activity. Therefore, an <span class="cv_-_computer_voice">Activity</span> object is primarily assignable. <span class="e_-_emphasis">Primary</span> assignment takes place any time that BillingCenter assigns an item to a <span class="e_-_emphasis">single</span> user. </div>
      <div class="B_-_Body"><a name="16074426">Primary assignment objects </a><span class="e_-_emphasis">must</span> implement the <span class="cv_-_computer_voice">Assignable</span> and <span class="cvt_-_computer_voice_table">BCAssignable</span> delegates. In the BillingCenter base configuration, the following objects implement the required delegates:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt; margin-bottom: 2.0pt; vertical-align: baseline">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap; color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cv_-_computer_voice"><a name="16074083">Activity</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt; margin-bottom: 2.0pt; vertical-align: baseline">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap; color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cv_-_computer_voice"><a name="16074097">Hold</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt; margin-bottom: 2.0pt; vertical-align: baseline">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap; color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cv_-_computer_voice"><a name="16074111">TroubleTicket</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="16074480">It is common for BillingCenter to implement the </a><span class="cv_-_computer_voice">Assignable</span> delegate in the main entity definition file and the <span class="cv_-_computer_voice">BCAssignable</span> delegate in an entity extension file.</div>
      <h4 class="H2_-_Heading_2"><a name="16041127">Secondary (Role-based) Assignment</a></h4>
      <div class="B_-_Body"><a name="16065143">BillingCenter uses </a><span class="e_-_emphasis">secondary</span> assignment in the context of user roles assigned to an entity that does not have a single owner. For example, an entity can have multiple roles associated with it as it moves through BillingCenter, with each role assigned to a specific person. Since each of the roles can be held by only a single user, BillingCenter represents the relationship by an array of <span class="cv_-_computer_voice">UserRoleAssignment</span> entities. These <span class="cv_-_computer_voice">UserRoleAssignment</span> entities are primarily assignable and implement the <span class="cv_-_computer_voice">Assignable</span> delegate. </div>
      <div class="B_-_Body"><a name="16074155">Thus, for an entity to be secondarily assignable, it must have an associated array of role assignments, the </a><span class="cv_-_computer_voice">RoleAssignments</span> array. (This array contains the set of <span class="cv_-_computer_voice">UserRoleAssignment</span> objects.) In the BillingCenter base configuration, the following objects all contain a <span class="cv_-_computer_voice">RoleAssignmentss</span> array:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt; margin-bottom: 2.0pt; vertical-align: baseline">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap; color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cv_-_computer_voice"><a name="16041134">DelProcessWorkflow</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt; margin-bottom: 2.0pt; vertical-align: baseline">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap; color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cv_-_computer_voice"><a name="16041135">Disbursement</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt; margin-bottom: 2.0pt; vertical-align: baseline">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap; color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cv_-_computer_voice"><a name="16041152">TroubleTicket</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="16074233">It is possible for an entity to be both primarily and secondarily assignable.</a></div>
      <h6 class="HS_-_Head_Sub"><a name="16065104">Secondary Assignment and Round-robin Assignment</a></h6>
      <div class="B_-_Body"><a name="16074288">Secondary assignment uses the assignment owner to retrieve the round-robin state. What this means is that different secondary assignments on the same assignment owner can end up using the same round-robin state and they can affect each other. </a></div>
      <div class="B_-_Body"><a name="16074289">In general, if you use different search criteria for different secondary assignments, you do not encounter this problem as the search criteria is most likely different. However, if you want to want to make absolutely sure that different secondary assignments follow different round-robin states, then you need to extend the search criteria. In this case, add a flag column and set it to a different value for each different kind of secondary assignment. (See </a><a href="javascript:WWHClickedPopup('rules', 'assignment_bc.12.14.html#15892144', '');" title="Round-Robin Assignment">“Round-Robin Assignment”</a> for more information on this type of assignment.)</div>
      <h4 class="H2_-_Heading_2"><a name="16074354">Assignment within the Assignment Rules</a></h4>
      <div class="B_-_Body"><a name="16076314">Guidewire provides sample assignment rules in the </a><span class="ui_-_UI_element">Assignment</span> folder in the Studio <span class="ui_-_UI_element">Resources</span> tree. These rule include both primary and secondary assignment. For assignments that use the Assignment engine (which is all rules in the <span class="ui_-_UI_element">Assignment</span> folder), use the following assignment properties:</div>
      <div class="T_-_Table"><a name="16076330">&nbsp;</a></div>
      <table class="withHeading" style="text-align: left" border="0" cellpadding="10" cellspacing="0" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="16076317">Assignment type</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="16076319">Use...</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="16076321">Primary</a></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><span class="cvt_-_computer_voice_table"><a name="16076323">entity.currentAssignment</a></span> </div>
            <div class="TT_-_Table_Text"><a name="16076324">This property returns the current assignment, regardless of whether you perform either primary or secondary assignment. If you attempt to use it for secondary assignment, then the property returns the same object as the </a><span class="cvt_-_computer_voice_table">CurrentRoleAssignment</span> property.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="16076326">Secondary</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="16076328">entity.currentRoleAssignment</a></span></div>
            <div class="TT_-_Table_Text"><a name="16076329">This property returns </a><span class="cvt_-_computer_voice_table">null</span> if you attempt to use it for primary assignment.</div>
          </td>
        </tr>
      </table>
      <div class="B_-_Body"><a name="16076331">If you assign an entity outside of the Assignment engine (meaning outside of the Assignment rules), then you do not need to use </a><span class="cv_-_computer_voice">currentAssignment</span>. Instead, you can use any of the methods that are available to entities that implement the <span class="cv_-_computer_voice">Assignable</span> delegate directly, for example:</div>
      <div class="CS_-_Code_Single_Line"><a name="16076332">activity.assign(group, user)</a></div>
      <div class="B_-_Body"><a name="16076336">BillingCenter does not require that </a><span class="cv_-_computer_voice">user</span> be a member of <span class="cv_-_computer_voice">group</span>, although this is the most usual practice. In other words, you can assign a user that is not a member of the specified group.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>