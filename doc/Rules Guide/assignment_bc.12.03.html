<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>BillingCenter Assignment</title>
    <link rel="StyleSheet" href="css/assignment_bc.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>BillingCenter Rules Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-rules_advanced.html#15891323">Advanced Topics</a> : <a class="WebWorks_Breadcrumb_Link" href="assignment_bc.12.01.html#15891323">Assignment in BillingCenter</a> : BillingCenter Assignment</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="15891323">BillingCenter Assignment</a></h3>
      <div class="B_-_Body"><a name="16076756">Assignment that uses the Assignment engine works within the context of the Assignment rules, which BillingCenter groups into the following categories:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('rules', 'assignment_bc.12.03.html#16076809', '');" title="BillingCenter Assignment" name="16076763">Global Assignment Rules</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('rules', 'assignment_bc.12.03.html#16076840', '');" title="BillingCenter Assignment" name="16076767">Default Group Assignment Rules</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="16076771">In general, BillingCenter uses the global assignment rules to determine the group to which to assign the entity. It then the runs the default group assignment rules to assign the entity to a user in the chosen group. The Assignment engine runs the assignment rules until it either completes the assignment or it runs out of rules to run.</a></div>
      <div class="B_-_Body"><a name="16076772">Guidewire designs the assignment rules to </a><span class="e_-_emphasis">trickle down</span> through the group structure. For example, if a user assigns an activity using automated assignment, the Assignment engine runs a global activity assignment rule first. Typically, the global rule sets a group. Then, the Assignment engine calls the assignment rule set for that group. This rule set can either perform the final assignment or assign the activity to another group. If assigned to another group, BillingCenter calls the rule set for that group. This process continues until the Assignment engine completes the final assignment. (For simplicity, these examples use activity throughout, although the same logic applies to all assignable entities.) </div>
      <div class="B_-_Body"><a name="16076773">The following graphic illustrates this process.</a></div>
      <div class="F_-_Figure"><a name="16076777"><img class="Default" src="images/assignment_flow.png" style="display: inline; float: none; left: 0.0; top: 0.0" alt="" /></a></div>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="16076778">To support this process, the assignment engine contains the sense of </a><span class="e_-_emphasis">execution session</span> and <span class="e_-_emphasis">current group</span>. You cannot explicitly set these items. </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16076779">The </a><span class="e_-_emphasis">execution session</span> is one complete cycle through the assignment rules. In the Assignment engine graphic, this means all the processes that occur between the <span class="e_-_emphasis">Start</span> point and the <span class="e_-_emphasis">Exit Assignment Engine</span> termination point.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16076780">The </a><span class="e_-_emphasis">current group</span> is the group to which the Assignment engine assigns the assignable entity after it executes an assignment rule set.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="16076781">The Assignment engine sets the current group as it exits the rule set. To alleviate unintended assignments, Guidewire strongly recommends that you exit the rule set immediately after making a group assignment.</a></div>
      <div class="B_-_Body"><a name="16076782">Several of the assignment methods (notably </a><span class="cv_-_computer_voice">assignByUserAttributes</span> and <span class="cv_-_computer_voice">assignUser</span>) require a current group to be set. If the current group is not set, these methods return <span class="cv_-_computer_voice">false</span> immediately. The combination of the current group and these assignment actions can give unpredictable results if you do not implement them carefully. </div>
      <div class="B_-_Body"><a name="16076783">Consider the following rule:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="16076784">activity.CurrentAssignment.assignGroup(someGroup)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16076785">&nbsp;</a></PRE>
      <PRE class="CF_-_Code_First_Line"><a name="16076786">if ( activity.CurrentAssignment.assignByUserAttributes(someAttributes, false,</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16076787">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;activity.CurrentAssignment.AssignedGroup) ) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16076788">&nbsp;&nbsp;actions.exit()</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="16076789">}</a></PRE>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="16076790">At first, it would seem that this rule assigns the activity to someone in </a><span class="cv_-_computer_voice">someGroup</span> who has the appropriate attributes. However, it does the following:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16076791">If the rule is in a global rule set, it does nothing at all.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16076792">If the rule is in the rule set of another group—say group X—it assigns the activity to a user in group X. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="16076793">The reason for this is that the logic for </a><span class="cv_-_computer_voice">assignByUserAttributes</span> only cares about the current group in the assignment context. (The current group is <span class="cv_-_computer_voice">null</span> in the global rule set and group X in group X's rule set). The <span class="cv_-_computer_voice">assignByUserAttributes</span> method does not care about what group the activity is currently assigned. </div>
      <div class="B_-_Body"><a name="16076794">In actuality, as the rules trickle down through the organization, the Assignment engine sets the current group as it exits the rule set. To restate, Guidewire strongly recommends that you exit the rule set immediately after making a group assignment. </a></div>
      <div class="B_-_Body"><a name="16076795">Therefore, for the previous example, you need to immediately exit the rule upon assigning the activity to a group (</a><span class="cv_-_computer_voice">someGroup</span>). Then, you would use a separate rule to assign the activity to a user who is a member of <span class="cv_-_computer_voice">someGroup</span> as determined by that user’s attributes.</div>
      <div class="B_-_Body" style="color: #000000; font-style: italic; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="e_-_emphasis"><a name="16076796">Rule 1</a></span></div>
      <div class="CS_-_Code_Single_Line"><a name="16076797">if ( activity.CurrentAssignment.assignGroup(someGroup) ) {  actions.exit() }</a></div>
      <div class="B_-_Body" style="color: #000000; font-style: italic; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="e_-_emphasis"><a name="16076798">Rule 2</a></span></div>
      <PRE class="CF_-_Code_First_Line"><a name="16076799">if ( activity.CurrentAssignment.assignByUserAttributes(someAttributes, false,</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16076800">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;activity.CurrentAssignment.AssignedGroup) ) { </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16076801">&nbsp;&nbsp;actions.exit() </a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="16076802">}</a></PRE>
      <h6 class="HS_-_Head_Sub"><a name="16076803">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('rules', 'assignment_bc.12.04.html#16077483', '');" title="Assignment Execution Session" name="16076807">“Assignment Execution Session”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <h4 class="H2_-_Heading_2"><a name="16076809">Global Assignment Rules</a></h4>
      <div class="B_-_Body"><a name="16077044">Initially, the Assignment engine invokes the Global assignment rules for the entity type in question. There is a rule set for each entity type, meaning there is a rule set each to handle activities, disbursements, and trouble tickets.</a></div>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="16076812">The Assignment engine runs the global rules one time only. There are three valid outcomes for a Global Assignment rule: </a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16076813">One of the rules assigns both a group and a user. In this case, the assignment process completes and the Assignment engine exits. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16076814">One of the rules assigns a group. In this case the assignment process continues with the Default assignment rules. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16076815">None of the rules perform any assignment. In this case, the Assignment engine assigns the entity to a default user and group and the Assignment engine exits.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="16077077">BillingCenter triggers the global assignment rules any time that you use auto-assignment to assign an entity.</a></div>
      <div class="B_-_Body"><a name="16076823">There is one global rule set for each type of assignable entity. These rules make the initial assignment decision. This, in turn, triggers further assignment rules for a particular group to narrow the selection criteria. (These rules can define geographical or business criteria to use in the selection process, for example.) Then, the assignment rules distribute the work to a specific user or queue within the chosen group.</a></div>
      <div class="B_-_Body"><a name="16076827">Assignment logic is often </a><span class="e_-_emphasis">trickle-down</span> or hierarchical. For example, BillingCenter might use the Assignment rules to determine the ultimate assignment owner by first determining each of the following:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16076828">The regional group </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16076829">The state group </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16076830">The local group </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16076831">The loss type, and finally, </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16076832">The individual </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="16076834">Guidewire recommends that you do not make user assignments directly using the Global assignment rules. Instead, use these rules to trigger further group selection rules. For example, suppose that you make an assignment directly to a user who does not have the requisite job role, or requisite authority. In this case, there is no other rule that governs the situation, and the Assignment engine makes no assignment.</a></div>
      <div class="B_-_Body"><a name="16076835">It is possible for you to implement your own assignment class and call it directly from within BillingCenter, if you choose. Guidewire does not restrict you to using the base configuration Assignment rules only.</a></div>
      <h4 class="H2_-_Heading_2"><a name="16076840">Default Group Assignment Rules</a></h4>
      <div class="B_-_Body"><a name="16076842">The Default Group assignment rules again contain one rule set for each assignable entity type. These rule sets contain rules that execute anytime that you manually assign an item from within BillingCenter. (These rules govern assignment selection also if you do not specify any other rule set for a group.) </a></div>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="16076846">After the Assignment engine invokes the rules, there are again three possibilities: </a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16076847">One of the rules assigns a User. In this case, the assignment process is done and the Assignment engine exits. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16076848">None of the rules assigns a User. However, one of the rules assigns a a different Group. In this case, the Assignment engine runs the Default Assignment rules again. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="16076716">None of the rules perform any assignment. In this case, the assignment fails and the Assignment engine exits.</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>