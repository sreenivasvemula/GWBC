<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Typical Use of the Data Change API</title>
    <link rel="StyleSheet" href="css/datachange.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>BillingCenter System Administration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="datachange.06.1.html#2341349">Data Change API</a> : Typical Use of the Data Change API</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="2341349">Typical Use of the Data Change API</a></h3>
      <div class="B_-_Body"><a name="2341477">There are several steps in using the data change API:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('admin', 'datachange.06.3.html#2357875', '');" title="Typical Use of the Data Change API" name="2341561">“Write Data Change Code”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('admin', 'datachange.06.3.html#2359906', '');" title="Typical Use of the Data Change API" name="2341576">“Register a Data Change”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('admin', 'datachange.06.3.html#2342682', '');" title="Typical Use of the Data Change API" name="2342936">“Run Data Change Code”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <h4 class="H2_-_Heading_2"><a name="2357875">Write Data Change Code</a></h4>
      <div class="B_-_Body"><a name="2357877">You must write Gosu code that correctly and safely makes only the necessary data changes and persists the changes to the database.</a></div>
      <div class="NW_-_Note_Warning">
        <span class="w_-_warning">WARNING  </span><a name="2359622">Carefully test your data change code. Guidewire strongly recommends that multiple people review and approve the code for safety and correctness before proceeding.</a></div>
      <div class="B_-_Body"><a name="2359892">To persist changes to the database, use the </a><span class="cv_-_computer_voice">gw.Transaction.Transaction</span> class and its method <span class="cv_-_computer_voice">runWithNewBundle</span>. See <a href="javascript:WWHClickedPopup('gosu', 'transactions.22.11.html#1634152', '');" title="Running Code in an Entirely New Bundle">“Running Code in an Entirely New Bundle” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('gosu', 'transactions.22.11.html#1634152', '');" title="Running Code in an Entirely New Bundle">Gosu Reference Guide</a></span>. You pass the method a block that runs code. If the block does not throw an exception, BillingCenter persists any data changes from your Gosu block to the database. If the block throws an exception, no changes persist to the database.</div>
      <div class="B_-_Body"><a name="2359899">Use data change Gosu APIs to configure logging within data change code. These APIs generate logging information that users can see in human-readable output in data change user interface:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2359117">To log entity field-level entity changes, call </a><span class="cv_-_computer_voice">DataChange.util.setDetailResultWriting(bundle)</span>. The logging information includes information about added objects, deleted objects, and field-level changes on every object. For updated properties, the logging information includes each field value before the change and after the change.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2359118">To log arbitrary text data, call </a><span class="cv_-_computer_voice">DataChange.util.ResultsWriter</span>. That property returns an appender, which is an object that implements the interface <span class="cv_-_computer_voice">java.lang.Appendable</span>. That object has several method signatures of the <span class="cv_-_computer_voice">append</span> method. The simplest method signature takes a <span class="cv_-_computer_voice">CharSequence</span> object, such as a standard <span class="cv_-_computer_voice">String</span> object.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2359173">For example, the following code uses the </a><span class="cv_-_computer_voice">setDetailResultWriting</span> method and the <span class="cv_-_computer_voice">ResultsWriter</span> property:</div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2359184">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2359185">gw.transaction.Transaction.runWithNewBundle(\ bundle -&gt; {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2359186">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2359187">  // For demonstration, get a User object and make minor data change to the first name</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2359188">  var u = gw.api.database.Query.make(User).select().first()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2359189">  bundle.add(u)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2359190">  u.Contact.FirstName = u.Contact.FirstName + "SUFFIX"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2359191">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2359799">&nbsp;&nbsp;// Determine what you want to write to the data change log</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2359193">&nbsp;&nbsp;var msg = "For PublicID '${u.PublicID}' User.DisplayName is now '${u.DisplayName}'!"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2359194">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2359195">  // To log arbitrary text in Data Change UI, get a results writer (type is java.lang.Appender)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2359196">  var rw = DataChange.util.ResultsWriter</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2359862">  rw.append("Add arbitrary log message here\n")</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2359863">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2359864">  // enable detailed logging of each property value before and after our change</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2359865">  DataChange.util.setDetailResultWriting(bundle)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2359866">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2359867">  // for testing in Studio Scratchpad, also print to standard console</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2359203">&nbsp;&nbsp;// print("To console: " + msg)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2359204">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2359205">})</a></PRE>
      <div class="B_-_Body"><a name="2384758">To test and debug your code in Studio Scratchpad, you may want to print to the console using the standard </a><span class="cv_-_computer_voice">print</span> statement. Also, add one more argument to the <span class="cv_-_computer_voice">runWithNewBundle</span> method to represent a user name. For example, pass the <span class="cv_-_computer_voice">String</span> value <span class="cv_-_computer_voice">"su"</span> to make your writable bundle as the super user.</div>
      <div class="B_-_Body"><a name="2384766">Design your data change code to minimize the number of entity instances you change. Too many changes in entity data increases the chance of memory issues or concurrent data exceptions.</a></div>
      <div class="B_-_Body"><a name="2359904">Save your Gosu code to a local file that ends in </a><span class="cv_-_computer_voice">.gsp</span>.</div>
      <h4 class="H2_-_Heading_2"><a name="2359906">Register a Data Change</a></h4>
      <div class="B_-_Body"><a name="2359907">There are two ways to register your data change code</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2343976">The command prompt tool </a><span class="cv_-_computer_voice">BillingCenter/admin/bin/data_change.bat</span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2343977">The WS-I web service </a><span class="cv_-_computer_voice">DataChangeAPI</span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2343125">The data change registration details vary between these two variants.</a></div>
      <div class="B_-_Body"><a name="2343583">In all cases, before proceeding you must have:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2343650">Data change code in the form of a Gosu script that you have already tested in your development environment. See </a><a href="javascript:WWHClickedPopup('admin', 'datachange.06.3.html#2357875', '');" title="Typical Use of the Data Change API">“Write Data Change Code”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2343804">A human-readable description for your data change</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2348676">A unique reference ID that you create to represent this data change</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="2348693">Register a Data Change From Command Prompt</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="NW_-_Note_Warning">
        <span class="w_-_warning">WARNING  </span><a name="2356043">Only use the data change API under extraordinary conditions, with great caution, and upon advice of Guidewire Customer Support. Before registering a data change on a production server, register and run the data change on a development server. Guidewire recommends multiple people review and test the code and the results before attempting the data change on a production server.</a></div>
      <h6 class="HS_-_Head_Sub"><a name="2348745">To register a data change from command prompt</a></h6>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="2348746">Open a command prompt.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2348750">Set your working directory to </a><span class="cv_-_computer_voice">BillingCenter/admin</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2347575">Run the following command:</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="CS_-_Code_Single_Line"><a name="2347708">data_change.bat –description </a><span class="pc_-_parameter_in_code">DESCRIP</span> –edit <span class="pc_-_parameter_in_code">REFID</span> –gosu <span class="pc_-_parameter_in_code">PATH</span> –server <span class="pc_-_parameter_in_code">SERVERURL</span> –user <span class="pc_-_parameter_in_code">USER</span> –password <span class="pc_-_parameter_in_code">PW</span></div>
      <div class="LP_-_List_Para"><a name="2347803">For example:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2347684">data_change.bat –description "Fix Employee Name"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2347933">&nbsp;&nbsp;&nbsp;–edit REFID_1234 –gosu c:\BillingCenter\datachange\gosudatachange_REFID1234.gsp</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2347992">&nbsp;&nbsp;&nbsp;–server http://TESTINGSERVER:8080/bc –user su –password gw</a></PRE>
      <div class="LP_-_List_Para"><a name="2348028">For complete documentation on all command prompt options, see </a><a href="javascript:WWHClickedPopup('admin', 'datachange.06.4.html#2348033', '');" title="Data Change Command Prompt Reference(data_change.bat)">“Data Change Command Prompt Reference(data_change.bat)”</a>.</div>
      <div class="LP_-_List_Para"><a name="2352331">The script outputs results such as:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2352405">Running data_change.gsp</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2352406">Connecting as su to URL http://localhost:8080/cc/ws/gw/webservice/systemTools/DataChangeAPI</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2352408">Edit change ref=REFID1234 publicId=cc:1</a></PRE>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="2353699">Register a Data Change From a Web Service</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="NW_-_Note_Warning">
        <span class="w_-_warning">WARNING  </span><a name="2353700">Before registering a data change on a production server, register and run the data change on a development server. Guidewire recommends multiple people review and test the code and the results before attempting the data change on a production server.</a></div>
      <div class="B_-_Body"><a name="2350879">If you do not want to use a command prompt tool, you can register a data change with the WS-I web service </a><span class="cv_-_computer_voice">DataChangeAPI</span>. The command prompt tool <span class="cv_-_computer_voice">data_change</span> works by calling the <span class="cv_-_computer_voice">DataChangeAPI</span> web service on a running BillingCenter server. For more information about the related command prompt tool, see:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('admin', 'datachange.06.3.html#2348693', '');" title="Typical Use of the Data Change API" name="2351309">“Register a Data Change From Command Prompt”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('admin', 'datachange.06.4.html#2348033', '');" title="Data Change Command Prompt Reference(data_change.bat)" name="2351326">“Data Change Command Prompt Reference(data_change.bat)”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2350880">To register a data change, call the </a><span class="cv_-_computer_voice">DataChangeAPI</span> web service method <span class="cv_-_computer_voice">updateDataChangeGosu</span>. Pass the method the reference ID, a human-readable description, and the Gosu code to run. Pass all of these arguments as <span class="cv_-_computer_voice">String</span> objects. The method returns the public ID of the new <span class="cv_-_computer_voice">DataChange</span> entity instance.</div>
      <div class="B_-_Body"><a name="2352127">For example:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2352128">var gosuScript = "gw.transaction.Transaction.runWithNewBundle(\ bundle -&gt; { </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2352129">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(""DATA CHANGE!"") })"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2350875">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2352175">var publicID = datachangeAPI.updateDataChangeGosu("REFID_1234", </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2352176">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Fix for Issue 1234 regarding missing Employee ID", gosuScript)</a></PRE>
      <h4 class="H2_-_Heading_2"><a name="2342682">Run Data Change Code</a></h4>
      <div class="NW_-_Note_Warning">
        <span class="w_-_warning">WARNING  </span><a name="2356055">Only use the data change API under extraordinary conditions, with great caution, and upon advice of Guidewire Customer Support. Before registering a data change on a production server, register and run the data change on a development server. Guidewire recommends multiple people review and test the code and the results before attempting the data change on a production server.</a></div>
      <h6 class="HS_-_Head_Sub"><a name="2341350">To run a data change</a></h6>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="2331251">Confirm that someone created and registered a data change as described in </a><a href="javascript:WWHClickedPopup('admin', 'datachange.06.3.html#2357875', '');" title="Typical Use of the Data Change API">“Write Data Change Code”</a>. You must know the reference ID for the registered data change.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2349736">Log into BillingCenter as an administrator. Note that the user that created and registered the data change may not be the same person as the person running the data change in the production environment. You can define these roles to have different permissions.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="2356411">To view the data change page, the user must have the </a><span class="cv_-_computer_voice">admindatachangeview</span> permission. To actually run the script, the user must have the <span class="cv_-_computer_voice">admindatachangeexec</span> permission.</div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="2356783">Guidewire recommends that you force separation of responsibilities into two different BillingCenter users. Give each user </a><span class="cv_-_computer_voice">wsdatachangeedit</span> (to register the code) or <span class="cv_-_computer_voice">admindatachangeexecd</span> permission (to run it), but not both.</div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2349749">Navigate to </a><span class="ui_-_UI_element">Admin</span> → <span class="ui_-_UI_element">Utilities</span> → <span class="ui_-_UI_element">Data Change</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2350045">In the list of data changes, use the </a><span class="ui_-_UI_element">Reference</span> column to find the data change request by its reference ID. Click on the data change row in that list. If the list is long, you can use the picker on the page to filter to just ones with status <span class="ui_-_UI_element">Open</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	5.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2352672">The page displays the Gosu code for that data change. Review the Gosu code to confirm it is what you expect.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	6.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2352791">Click </a><span class="ui_-_UI_element">Execute</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	7.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2357007">The page may not display the results immediately in the </a><span class="ui_-_UI_element">Result</span> pane. The status may appear as the status <span class="ui_-_UI_element">Executing</span> in the list of data changes. After some amount of time, click reload on the page to view the current status and results.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="2353522">If the change is successful, it confirms in a message that uses your reference ID:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2353523">REFID1235 finished okay</a></div>
      <div class="LP_-_List_Para"><a name="2352813">If there are compile errors or exceptions, they appear in the user interface in the </a><span class="ui_-_UI_element">Result</span> pane.</div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	8.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2357074">Confirm your changes in the database and check your logging results from the change.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="NW_-_Note_Warning">
        <span class="w_-_warning">WARNING  </span><a name="2350811">Consult with other people as needed to determine that the data change is safe and correct.</a></div>
      <div class="LP_-_List_Para"><a name="2350603">If you need to re-run a successful data change, you must first re-register the script with a new reference ID. This is a requirement preserves the integrity of the results log. See </a><a href="javascript:WWHClickedPopup('admin', 'datachange.06.3.html#2359906', '');" title="Typical Use of the Data Change API">“Register a Data Change”</a>. </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	9.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2350785">If the data change appears safe in your development environment, carefully register and run the data change on the production server. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="NW_-_Note_Warning">
        <span class="w_-_warning">WARNING  </span><a name="2356067">Only use the data change API under extraordinary conditions, with great caution, and upon advice of Guidewire Customer Support. Before registering a data change on a production server, register and run the data change on a development server. Guidewire recommends multiple people review and test the code and the results before attempting the data change on a production server.</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>