<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Checking Database Consistency</title>
    <link rel="StyleSheet" href="css/database.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>BillingCenter System Administration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="database.05.01.html#1199437">Configuring and Maintaining the BillingCenter Database</a> : Checking Database Consistency</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="1199437">Checking Database Consistency</a></h3>
      <div class="B_-_Body"><a name="1199439">BillingCenter includes a number of database consistency checks. These checks determine if any unusual conditions exist in the BillingCenter database such as orphaned child records or inconsistencies between properties. Problems reported by the checks are sent to the console and logged in the </a><span class="cv_-_computer_voice">bclog.log</span> file. This mode is especially useful during trial periods or for testing converted data. </div>
      <h6 class="HS_-_Head_Sub"><a name="1295689">Guidewire Recommendations</a></h6>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="1295691">Guidewire recommends that you run the database consistency checks on a regular basis to identify potential problems. The following is a simple schedule:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1295692">Before importing data into a production database</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1295693">Before and after a database upgrade</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1295697">Weekly after a new BillingCenter deployment</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1295701">Monthly after stabilization of a new BillingCenter deployment</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1295702">Monthly while testing imported data that you are converting from a legacy system</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1295703">Monthly after you have moved the converted data to a production database</a></div>
            </td>
          </tr>
        </table>
      </div>
      <h6 class="HS_-_Head_Sub"><a name="1460300">Performance Issues</a></h6>
      <div class="B_-_Body"><a name="1460301">For very large databases, running consistency checks can have a major negative effect on performance. Some consistency check queries use a large amount of temporary space on Oracle. BillingCenter includes two parameters for very large databases that allow some of these queries to be split into multiple smaller queries. Each of these smaller queries check only a portion of the database. Only set these parameters if you have a very large database. The configuration parameters are:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="1460305">MaxTAccountsInConsistencyCheck</a></span> </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="1460306">MaxTransactionsInConsistencyCheck</a></span> </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1460310">Both parameters have a default value of 0, which configures BillingCenter to not split queries.</a></div>
      <h4 class="H2_-_Heading_2"><a name="1265044">Running Consistency Checks from BillingCenter</a></h4>
      <div class="B_-_Body"><a name="1265048">Guidewire recommends that you view and run consistency checks from the </a><span class="ui_-_UI_element">Consistency Checks</span> page in BillingCenter. The <span class="ui_-_UI_element">Consistency Checks</span> page lists which consistency checks are available for specific tables. You can also use this page to view the results of running consistency checks previously. If there are consistency check errors, the results include SQL queries that you can use to identify records that violated the consistency check.</div>
      <div class="B_-_Body"><a name="1265052">See </a><a href="javascript:WWHClickedPopup('admin', 'tools-server.13.09.html#1617299', '');" title="Consistency Checks">“Consistency Checks”</a> for more information.</div>
      <h4 class="H2_-_Heading_2"><a name="1217462">Running Consistency Checks with System Tools</a></h4>
      <div class="B_-_Body"><a name="1261507">It is also possible to launch database consistency checks from the command prompt. Launching consistency checks from the command prompt is primarily useful for scheduling checks to run on a regular basis. Use the following command:</a></div>
      <div class="CS_-_Code_Single_Line"><span class="cv_-_computer_voice"><a name="1261555">system_tools</a></span> <span class="cv_-_computer_voice">-checkdbconsistency</span> -password <span class="pc_-_parameter_in_code">password</span></div>
      <div class="B_-_Body"><a name="1261560">The </a><span class="cv_-_computer_voice">system_tools</span> utility is located in the <span class="cv_-_computer_voice">BillingCenter/admin/bin</span> folder. See <a href="javascript:WWHClickedPopup('admin', 'commandsref.15.08.html#1350094', '');" title="System Tools Command">“System Tools Command”</a> for more information.</div>
      <div class="B_-_Body"><a name="1262644">This tool has two optional arguments:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="1262645">-checkdbconsistency </a><span class="pc_-_parameter_in_code">tableSelection</span> <span class="pc_-_parameter_in_code">checkTypeSelection</span></div>
      <div class="B_-_Body"><a name="1262646">The </a><span class="ps_-_parameter_in_code_snippets">tableSelection</span> option uses the following arguments:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="1262647">all</a></span> – Run consistency checks on all tables.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ps_-_parameter_in_code_snippets"><a name="1262648">table name</a></span> – The name of a single table on which to run checks.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="1262649">tg.</a></span><span class="ps_-_parameter_in_code_snippets">table group name</span> – The name of a table group. Table groups are defined in the <span class="cv_-_computer_voice">&lt;database&gt;</span> element of <span class="cv_-_computer_voice">database-config.xml</span>. For more information, see <a href="javascript:WWHClickedPopup('install', 'install.6.07.html#2267775', '');" title="Defining Table Groups">“Defining Table Groups” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('install', 'install.6.07.html#2267775', '');" title="Defining Table Groups">Installation Guide</a></span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="1262653">@</a></span><span class="ps_-_parameter_in_code_snippets">file name</span> – A file name with one or more valid table names or table group names entered in comma-separated values (CSV) format. Prefix table group names with <span class="cv_-_computer_voice">tg.</span>, such as <span class="cv_-_computer_voice">tg.MyTableGroup</span>. You can combine table groups and individual table names in the same file.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1262773">The </a><span class="ps_-_parameter_in_code_snippets">checkTypeSelection</span> option uses the following arguments:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="1262655">all</a></span> – Run all consistency checks on the specified tables.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ps_-_parameter_in_code_snippets"><a name="1262656">check name</a></span> – The typecode value of a single consistency check to run.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="1262941">@</a></span><span class="ps_-_parameter_in_code_snippets">file name</span> – A file name with one or more valid consistency check names entered in comma-separated values (CSV) format.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1262942">If you specify one optional argument, you must specify both.</a></div>
      <div class="B_-_Body"><a name="1285747">The </a><span class="cv_-_computer_voice">-checkdbconsistency</span> option runs consistency checks as an asynchronous batch process. </div>
      <div class="B_-_Body"><a name="1285748">Using a larger number of threads can help performance as long as your server can process the threads. Guidewire recommends starting with five threads. If too many threads are used, there is a greater chance that current users experience reduced performance if the database server is fully loaded. You can adjust the number of threads by modifying the number of worker instances used by the consistency check work queue.</a></div>
      <div class="B_-_Body"><a name="1285749">Use the typecode value to specify a consistency check type as an argument or in a file. To see which consistency check types are available for each table, search for the table on the </a><span class="ui_-_UI_element">View consistency checks definitions</span> tab of the <span class="ui_-_UI_element">Info Pages</span> → <span class="ui_-_UI_element">Consistency Checks</span> page. This page lists the consistency checks available by name. Then select the <span class="ui_-_UI_element">Run consistency checks</span> tab. For <span class="ui_-_UI_element">Check all types?</span>, select <span class="ui_-_UI_element">Specify types</span>. Use the <span class="ui_-_UI_element">Type Code</span> value to specify the consistency checks that you want to run. The Typelists section of the <span class="bt_-_book_title">BillingCenter Data Dictionary</span> also lists available consistency check types. The typelist is <span class="cv_-_computer_voice">ConsistencyCheckType</span>. </div>
      <div class="B_-_Body"><a name="1265655">Results of the consistency checks are available from the </a><span class="ui_-_UI_element">Consistency Checks</span> page. See <a href="javascript:WWHClickedPopup('admin', 'tools-server.13.09.html#1617299', '');" title="Consistency Checks">“Consistency Checks”</a>.</div>
      <div class="B_-_Body"><a name="1265926">The BillingCenter log lists a check type for each consistency check that runs. Each check type in the log can have a value of either </a><span class="cv_-_computer_voice">0</span> or <span class="cv_-_computer_voice">1</span>. A value of <span class="cv_-_computer_voice">0</span> indicates that BillingCenter expects the check to return zero results if the database is consistent. A value of <span class="cv_-_computer_voice">1</span> indicates that BillingCenter expects the check to have a different return value. BillingCenter uses the check type for custom checks. If a check type <span class="cv_-_computer_voice">0</span> fails, the log records a failure description that BillingCenter expected the query issued by the check to return zero rows. The log includes the SQL query run by the check and the number of inconsistencies returned by the query. If a check type <span class="cv_-_computer_voice">1</span> fails, the log includes a specific failure description. </div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="1281520">The check type in the BillingCenter log is not the same as the check type shown in the Typelists section of the </a><span class="bt_-_book_title">BillingCenter Data Dictionary</span>. </div>
      <div class="B_-_Body"><a name="1265911">Running consistency checks using the</a><span class="cv_-_computer_voice"> -checkdbconsistency</span> option can take a long time. If the connection times out while running this command, try the following:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1286499">Run consistency checks on fewer tables at a time by using the arguments shown previously.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1286501">Increase the number of worker instance threads used by the consistency check work queue. See </a><a href="javascript:WWHClickedPopup('admin', 'database.05.07.html#1285108', '');" title="Checking Database Consistency">“Configuring Number of Threads for Consistency Checks”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <h4 class="H2_-_Heading_2"><a name="1261898">Running Consistency Checks as the Server Starts</a></h4>
      <div class="B_-_Body"><a name="1261501">For development environments with very small data sets, you can enable consistency checks to run each time the BillingCenter server starts. To do this, set the </a><span class="cv_-_computer_voice">checker</span> attribute of the <span class="cv_-_computer_voice">database</span> block to <span class="cv_-_computer_voice">true</span> in <span class="cv_-_computer_voice">database-config.xml</span>. By default, this option is set to <span class="cv_-_computer_voice">false</span>.</div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="1199447">Running these consistency tests when starting the server can take a long time, impact performance severely, and possibly time out on large datasets. Set </a><span class="cv_-_computer_voice">checker</span> to <span class="cv_-_computer_voice">false</span> under most circumstances. Guidewire recommends that you do not set <span class="cv_-_computer_voice">checker</span> to <span class="cv_-_computer_voice">true</span> except in development environments with very small test data sets.</div>
      <div class="B_-_Body"><a name="1286509">If the database connection times out when running consistency checks by using the </a><span class="cv_-_computer_voice">checker</span> attribute, increase the number of threads by increasing the value of <span class="cv_-_computer_voice">ConsistencyCheckerThreads</span> in <span class="cv_-_computer_voice">config.xml</span>.</div>
      <h4 class="H2_-_Heading_2"><a name="1285108">Configuring Number of Threads for Consistency Checks</a></h4>
      <div class="B_-_Body"><a name="1285786">Using a larger number of threads for consistency checks can help performance as long as your server can process the threads. Guidewire recommends starting with five threads. If too many threads are used, there is a greater chance that current users experience reduced performance if the database server is fully loaded.</a></div>
      <div class="B_-_Body"><a name="1285112">BillingCenter uses the work queue mechanism to run consistency checks. You can therefore configure work queue and worker attributes for consistency checks in the </a><span class="cv_-_computer_voice">work-queue.xml</span> file. Access this file in Guidewire Studio at <span class="uis_-_UI_element_Studio">configuration</span> → <span class="uis_-_UI_element_Studio">config </span><span class="ui_-_UI_element">→</span><span class="uis_-_UI_element_Studio"> workqueue</span>. Set parameters for the work queue with <span class="cv_-_computer_voice">workQueueClass</span> set to <span class="cv_-_computer_voice">com.guidewire.pl.system.database.checker.DBConsistencyCheckWorkQueue</span>. For example:</div>
      <PRE class="CF_-_Code_First_Line"><a name="1285122">&lt;work-queue workQueueClass="com.guidewire.pl.system.database.checker.DBConsistencyCheckWorkQueue"&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1285125">&nbsp;&nbsp;&nbsp;&lt;worker instances="5" batchsize="10"/&gt;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1285126">&lt;/work-queue&gt;</a></PRE>
      <div class="B_-_Body"><a name="1285127">In this example, the consistency check work queue is configured to use five worker threads and for each worker to check out ten work items at a time. Consistency checks run only the batch server. If you include the optional </a><span class="cv_-_computer_voice">&lt;server&gt;</span> attribute or configure the work queue with multiple servers, BillingCenter ignores them. </div>
      <div class="B_-_Body"><a name="1285131">After you edit </a><span class="cv_-_computer_voice">work-queue.xml</span>, you must rebuild and redeploy BillingCenter.</div>
      <div class="B_-_Body"><a name="1285758">For development environments with very small data sets, you can run consistency checks on server startup by setting </a><span class="cv_-_computer_voice">checker</span> to <span class="cv_-_computer_voice">true</span> in the <span class="cv_-_computer_voice">database</span> block of <span class="cv_-_computer_voice">database-config.xml</span>. For this configuration you can modify the number of threads by setting the <span class="cv_-_computer_voice">value</span> of <span class="cv_-_computer_voice">ConsistencyCheckerThreads</span> in <span class="cv_-_computer_voice">config.xml</span>.</div>
      <h6 class="HS_-_Head_Sub"><a name="1315527">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('admin', 'batch.11.07.html#2178785', '');" title="Configuring Work Queues" name="1315540">Configuring Work Queues</a></div>
            </td>
          </tr>
        </table>
      </div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>