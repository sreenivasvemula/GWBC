<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Chaining Query Builder Methods</title>
    <link rel="StyleSheet" href="css/querybuilder.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>Gosu Reference Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="querybuilder.10.01.html#2940023">Query Builder APIs</a> : <a class="WebWorks_Breadcrumb_Link" href="querybuilder.10.33.html#2940023">Testing and Optimizing Queries</a> : Chaining Query Builder Methods</span></div>
    <hr align="left" />
    <blockquote>
      <h4 class="H2B_-_Heading_2_Break"><a name="2940023">Chaining Query Builder Methods</a></h4>
      <div class="B_-_Body"><a name="2940024">You can use a coding pattern known as </a><span class="e_-_emphasis">method chaining</span> to write query builder code. With method chaining, the object returned by one method becomes the object from which you call the next method in the chain. Method chaining lets you fit all of your query builder code on a single line as a single statement. </div>
      <div class="B_-_Body"><a name="2940025">The following sample Gosu code places each query builder API call in a separate statement.</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="3521210">uses gw.api.database.Query // DOC-10545 Replacement sample code using realy entities</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3521211">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3521212">// Query builder API method calls as separate statements</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3521213">var queryCompany = Query.</a><span class="s_-_strong">make</span>(Company)</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3521214">var tableAddress = queryCompany.</a><span class="s_-_strong">join</span>("PrimaryAddress")</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3521215">tableAddress.</a><span class="s_-_strong">contains</span>("AddressLine1", "Market St", true) </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3521216">&nbsp;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="3521217">var result = queryCompany.select()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3521218">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3521223">// -- fetch the data with a for loop --</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3521224">for (company in result) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3521225">    print (company + ", " + company.PrimaryAddress.AddressLine1)</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="3521226">}</a></PRE>
      <div class="B_-_Body"><a name="2940033">The following sample Gosu code is functionally equivalent to the sample code above, but it uses method chaining to condense the separate statements into one.</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="3521808">uses gw.api.database.Query // DOC-10545 Replacement sample code using realy entities</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3521809">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3521810">// Query builder API method calls chained as a single statement</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3521811">var result = Query.</a><span class="s_-_strong">make</span>(Company).<span class="s_-_strong">join</span>("PrimaryAddress").<span class="s_-_strong">contains</span>("AddressLine1", </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3521853">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Blvd.", true).</a><span class="s_-_strong">select</span>()</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3521812">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3521813">// -- fetch the data with a for loop --</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3521814">for (company in result) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3521815">    print (company + ", " + company.PrimaryAddress.AddressLine1)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3521816">}</a></PRE>
      <div class="B_-_Body"><a name="2940038">When you chain methods, the objects that support the calls in the chain often do not appear explicitly in your code. In the example above, the </a><span class="cv_-_computer_voice">Query.make</span> method returns a query object, on which the chained statement calls the <span class="cv_-_computer_voice">join</span> method. In turn, the <span class="cv_-_computer_voice">join</span> method returns a table object, on which the next method calls the <span class="cv_-_computer_voice">contain</span> method. The <span class="cv_-_computer_voice">contain</span> method returns a restriction object, which has a <span class="cv_-_computer_voice">select</span> method that returns a result object for the built-up query. After the single-line statement completes, the query object is discarded and is no longer accessible to subsequent Gosu code. </div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="2940041">Method chaining with the query builder APIs is especially useful for user interface development. Page configuration format (PCF) files for list view panels have a single-line property named </a><span class="cv_-_computer_voice">value</span>, which can be a chained query builder statement the returns a result object.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>