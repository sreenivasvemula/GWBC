<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Setting Regional Formats for a Block of Gosu Code</title>
    <link rel="StyleSheet" href="css/localization_add.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>BillingCenter Globalization Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-locale.html#2500694">Regional Format Configuration </a> : <a class="WebWorks_Breadcrumb_Link" href="localization_add.15.1.html#2500694">Working with Regional Formats</a> : Setting Regional Formats for a Block of Gosu Code </span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="2500694">Setting Regional Formats for a Block of Gosu Code </a></h3>
      <div class="B_-_Body"><a name="2480284">The class </a><span class="cv_-_computer_voice">gw.api.util.LocaleUtil</span> provides the following methods to enable you to run a block of Gosu code with a specific set of regional formats: </div>
      <PRE class="CF_-_Code_First_Line"><a name="2469366">gw.api.util.LocaleUtil.runAsCurrentLocale(</a><span class="e_-_emphasis">alternateLocale</span>, \ -&gt; { <span class="pc_-_parameter_in_code">GosuCode</span> } ) </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2501336">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2501337">gw.api.util.LocaleUtil.runAsCurrentLocaleAndLanguage(</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><span class="pc_-_parameter_in_code"><a name="2501338">&nbsp;&nbsp;&nbsp;&nbsp;alternateLocale</a></span>, </PRE>
      <PRE class="CM_-_Code_Middle_Line"><span class="pc_-_parameter_in_code"><a name="2501339">&nbsp;&nbsp;&nbsp;&nbsp;alternateLanguage</a></span>,</PRE>
      <PRE class="CL_-_Code_Last_Line"><span class="pc_-_parameter_in_code"><a name="2501340">&nbsp;&nbsp;&nbsp;&nbsp;</a></span>\ -&gt; { <span class="pc_-_parameter_in_code">code</span> } )</PRE>
      <div class="B_-_Body"><a name="2471238">The second method sets both region and language at the same time. </a></div>
      <div class="B_-_Body"><a name="2471239">Running a block of Gosu code in this way enables BillingCenter to format dates, times, numbers, and names of people appropriately for a specific region. Otherwise, the block of Gosu code uses the regional formats specified by the current region. The current region is either specified by the current user or, if not, by the </a><span class="cv_-_computer_voice">DefaultApplicationLocale</span> parameter in <span class="cv_-_computer_voice">config.xml</span>. </div>
      <div class="B_-_Body"><a name="2471260">The parameters that the methods can take are:</a></div>
      <div class="T_-_Table"><a name="2469382">&nbsp;</a></div>
      <table class="withHeading" style="text-align: left" border="0" cellpadding="10" cellspacing="0" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="2469371">Parameter</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="2469373">Description</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="2469375">alternateLocale</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2469377">An object of type </a><span class="cvt_-_computer_voice_table">ILocale</span> that represents a regional format from the <span class="cvt_-_computer_voice_table">LocaleType</span> typelist. Specify a <span class="cvt_-_computer_voice_table">GWLocale</span> object for this parameter.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="2498269">alternateLanguage</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2498271">An object of type </a><span class="cvt_-_computer_voice_table">ILocale</span> that represents a language from the <span class="cvt_-_computer_voice_table">LanguageType</span> typelist. Specify a <span class="cvt_-_computer_voice_table">GWLanguage</span> object for this parameter.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="2469379">\ -&gt; { </a></span><span class="pst_-_parameter_in_code_snippets_table">code</span><span class="cvt_-_computer_voice_table"> }</span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2469381">A Gosu block as a </a><span class="cvt_-_computer_voice_table">GWRunnable</span> object—the Gosu code to run with different regional formats or a different language</div>
          </td>
        </tr>
      </table>
      <h6 class="HS_-_Head_Sub"><a name="2469832">Obtaining an </a><span class="cvh_-_computer_voice_in_heading">ILocale</span> Object for a Locale Type</h6>
      <div class="B_-_Body"><a name="2470282">To run a block of Gosu code with a specified set of regional formats, you must specify a locale object of type </a><span class="cv_-_computer_voice">ILocale</span>. You must specify the subtype <span class="cv_-_computer_voice">GWLocale</span> or <span class="cv_-_computer_voice">GWLanguage</span> as appropriate for the parameter <span class="cv_-_computer_voice">alternateLocale</span> or <span class="cv_-_computer_voice">alternateLanguage</span>.</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2498336">For the parameter </a><span class="cv_-_computer_voice">alternateLocale</span>, use the <span class="cv_-_computer_voice">gw.api.util.LocaleUtil.toLocale</span> method to provide an <span class="cv_-_computer_voice">ILocale</span> object that corresponds to a Gosu typecode in the <span class="cv_-_computer_voice">LocaleType</span> typelist. The object is actually of type <span class="cv_-_computer_voice">GWLocale</span>, which implements <span class="cv_-_computer_voice">ILocale</span>. You can specify the object directly by using typecode syntax. For example <span class="cv_-_computer_voice">LocaleType.TC_EN_US</span>. The typecode has to be defined in the <span class="cv_-_computer_voice">LocaleType</span> typelist.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2532373">For the parameter </a><span class="cv_-_computer_voice">alternateLanguage</span>, use the <span class="cv_-_computer_voice">gw.api.util.LocaleUtil.toLanguage</span> method to provide an <span class="cv_-_computer_voice">ILocale</span> object that corresponds to a Gosu typecode in the <span class="cv_-_computer_voice">LanguageType</span> typelist. The object is actually of type <span class="cv_-_computer_voice">GWLanguage</span>, which implements <span class="cv_-_computer_voice">ILocale</span>. You can specify the object directly by using typecode syntax. For example <span class="cv_-_computer_voice">LanguageType.TC_EN_US</span>. The typecode has to be defined in the <span class="cv_-_computer_voice">LanguageType</span> typelist.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2533041">You can specify a typecode of the correct type directly, without using the </a><span class="cv_-_computer_voice">toLocale</span> or <span class="cv_-_computer_voice">toLanguage</span> method. Use the following syntax: </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><span class="cv_-_computer_voice"><a name="2533042">GWLocale</a></span> – <span class="cv_-_computer_voice">gw.i18n.ILocale.FR_FR</span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><span class="cv_-_computer_voice"><a name="2533043">GWLanguage</a></span> – <span class="cv_-_computer_voice">gw.i18n.ILocale.LANGUAGE_FR_FR</span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2533945">You can specify the first parameter by using a method on </a><span class="cv_-_computer_voice">LocaleUtil</span> that can get the current or default locale or language, as appropriate. For example, <span class="cv_-_computer_voice">getDefaultLocale</span> or <span class="cv_-_computer_voice">getDefaultLanguage</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2533946">You can add a typecode to the </a><span class="cv_-_computer_voice">LocaleType</span> or <span class="cv_-_computer_voice">LanguageType</span> typelist. If you add a new typecode to one of these typelists, you must restart Studio to be able to use it in <span class="cv_-_computer_voice">gw.i18n.ILocale</span>. For example, see <a href="javascript:WWHClickedPopup('global', 'localization_add.15.2.html#2496885', '');" title="Configuring Regional Formats">“To add a Java locale code to the LocaleType typelist”</a>.</div>
      <div class="B_-_Body"><a name="2469387">The following example Gosu code formats today’s date by using the default application regional formats, overriding the any region that the user might have specified. The code uses </a><span class="cv_-_computer_voice">runAsCurrentLocale</span> to run a block of code that prints today’s date formatted according the default application region’s date format. The first parameter to this method is a call to <span class="cv_-_computer_voice">getDefaultLocale</span> to obtain a <span class="cv_-_computer_voice">GWLocale</span> object that represents the application’s default regional formats. </div>
      <PRE class="CF_-_Code_First_Line"><a name="2470624">uses gw.api.util.LocaleUtil</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2470626">uses gw.api.util.DateUtil</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2470632">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2470633">// Run a block of Gosu code that prints the current date </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2501151">// in the application’s default regional format</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2470634">LocaleUtil.runAsCurrentLocale(getDefaultLocale(),</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2470635">&nbsp;&nbsp;&nbsp;&nbsp;\-&gt; {print(DateUtil.currentDate().format("long"))}</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2469397">)</a></PRE>
      <h6 class="HS_-_Head_Sub"><a name="2481307">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('global', 'localization_studio.10.5.html#2111082', '');" title="Setting a Language for a Block of Gosu Code" name="2481311">“Setting a Language for a Block of Gosu Code”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('gosu', 'blocks.18.1.html#1445150', '');" title="Gosu Blocks" name="2500070">“Gosu Blocks” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('gosu', 'blocks.18.1.html#1445150', '');" title="Gosu Blocks">Gosu Reference Guide</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2351623">&nbsp;</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>