<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Multi-threaded Inbound Integration Overview</title>
    <link rel="StyleSheet" href="css/inbound-integration.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>BillingCenter Integration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-plugins.html#2211201">Plugins</a> : <a class="WebWorks_Breadcrumb_Link" href="inbound-integration.21.1.html#2211201">Multi-threaded Inbound Integration</a> : Multi-threaded Inbound Integration Overview</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="2211201">Multi-threaded Inbound Integration Overview</a></h3>
      <div class="B_-_Body"><a name="2211611">There are sometimes situations that require high-performance data throughput for inbound integrations that require special threading or transaction features from the hosting J2EE/JEE application environment. It is difficult to interact with the application server’s transactional facilities and write correct, thread-safe, high-performing code. BillingCenter includes tools that help you write such inbound integrations. You can focus on your own business logic rather than how to write thread-safe code that works safely in each application server.</a></div>
      <h4 class="H2_-_Heading_2"><a name="2302054">Inbound Integration Configuration XML File</a></h4>
      <div class="B_-_Body"><a name="2302055">There is a configuration file for inbound integrations called </a><span class="cv_-_computer_voice">inbound-integration-config.xml</span>. Edit this file in Studio to define configuration settings for every inbound integration that you want to use. Each inbound integration requires configuration parameters such as references to the registered plugin implementations. See <a href="javascript:WWHClickedPopup('integration', 'inbound-integration.21.3.html#2268378', '');" title="Inbound Integration Configuration XML File">“Inbound Integration Configuration XML File”</a>.</div>
      <h4 class="H2_-_Heading_2"><a name="2267723">Inbound Integration Core Plugin Interfaces</a></h4>
      <div class="B_-_Body"><a name="2299370">BillingCenter provides the multi-threaded inbound integration system in two different plugin interfaces for different use cases. Each defines a contract between BillingCenter and inbound integration high-performance multi-threaded processing of input data:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="2299374">InboundIntegrationMessageReply</a></span> – Inbound high-performance multi-threaded processing of replies to messages sent by a <span class="cv_-_computer_voice">MessageTransport</span> implementation. This is a subinterface of <span class="cv_-_computer_voice">MessageReply</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="2302228">InboundIntegrationStartablePlugin</a></span> – Inbound high-performance multi-threaded processing of input data as a startable plugin. A startable plugin is for all contexts other than handling replies to messages sent by a message transport (<span class="cv_-_computer_voice">MessageTransport</span>) implementation. This is a subinterface of <span class="cv_-_computer_voice">IStartablePlugin</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2302229">You might not need to write your own implementation of these main plugin interfaces. BillingCenter includes plugin implementations that are supported for production servers that support common use cases. Both are provided in variants for message reply and startable plugin use. </a></div>
      <div class="T_-_Table"><a name="2299196">&nbsp;</a></div>
      <table class="withHeading" style="text-align: left" border="0" cellpadding="10" cellspacing="0" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="2299157">Type of input data</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="2299159">Description</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="2299161">Related topic</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2299163">File inbound integrations</a></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2299165">Use this integration to read text data from local files. Poll a directory in the local file system for new files at a specified interval. Send new files to integration code and process incoming files line by line, or file by file. See </a><a href="javascript:WWHClickedPopup('integration', 'inbound-integration.21.4.html#2212624', '');" title="Inbound File Integration">“Inbound File Integration”</a>. You provide your own code that processes one chunk of work, either one line, or one file, depending on how you configure it. Your code is called a <span class="e_-_emphasis">handler </span>plugin<span class="e_-_emphasis">.</span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a href="javascript:WWHClickedPopup('integration', 'inbound-integration.21.4.html#2212624', '');" title="Inbound File Integration" name="2299173">“Inbound File Integration”</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2299175">JMS inbound integration</a></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2299177">Use this integration to get objects from a JMS message queue. See </a><a href="javascript:WWHClickedPopup('integration', 'inbound-integration.21.5.html#2250175', '');" title="Inbound JMS Integration">“Inbound JMS Integration”</a>. You provide your own code that processes the next message on the JMS message queue. Your code is called a <span class="e_-_emphasis">handler</span> plugin.</div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a href="javascript:WWHClickedPopup('integration', 'inbound-integration.21.5.html#2250175', '');" title="Inbound JMS Integration" name="2299185">“Inbound JMS Integration”</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2299187">Custom integration</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2299189">If you process incoming data other than files or JMS messages, write your own version of the </a><span class="cvt_-_computer_voice_table">InboundIntegrationMessageReply</span> or <span class="cvt_-_computer_voice_table">InboundIntegrationStartablePlugin</span> plugin interface. In both cases, for custom integrations you must write multiple classes that implement helper interfaces such as <span class="cvt_-_computer_voice_table">WorkAgent</span>.</div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a href="javascript:WWHClickedPopup('integration', 'inbound-integration.21.6.html#2293646', '');" title="Custom Inbound Integrations" name="2299194">“Custom Inbound Integrations”</a></div>
          </td>
        </tr>
      </table>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="2299207">You can implement your plugin code in any method you choose: Gosu, Java (with no OSGi), or in OSGi (Java as an OSGi bundle). If you use Java or if you require third-party libraries, Guidewire recommends implementing your code as an OSGi plugin.</a></div>
      <div class="B_-_Body"><a name="2339591">In all cases, you must register and configure plugin implementations in the Studio Plugins Registry. See each topic for more information about which implementation classes to register. Additionally, for file and JMS integrations, you write handler classes. See </a><a href="javascript:WWHClickedPopup('integration', 'inbound-integration.21.2.html#2300509', '');" title="Multi-threaded Inbound Integration Overview">“Inbound Integration Handlers for File and JMS Integrations”</a>.</div>
      <div class="B_-_Body"><a name="2299651">When registering a plugin implementation in the Plugins Registry, you must add a plugin parameter called </a><span class="cv_-_computer_voice">integrationservice</span>. That <span class="cv_-_computer_voice">integrationservice</span> parameter defines how BillingCenter finds configuration information within the inbound integration configuration XML file. </div>
      <div class="B_-_Body"><a name="2299933">To configure the inbound integration configuration XML file, see </a><a href="javascript:WWHClickedPopup('integration', 'inbound-integration.21.3.html#2268378', '');" title="Inbound Integration Configuration XML File">“Inbound Integration Configuration XML File”</a>.</div>
      <div class="B_-_Body"><a name="2300507">For general information about the Plugins Registry, see </a><a href="javascript:WWHClickedPopup('integration', 'plugins.12.02.html#2475371', '');" title="Overview of BillingCenter Plugins">“Registering a Plugin Implementation Class”</a>. </div>
      <h4 class="H2_-_Heading_2"><a name="2300509">Inbound Integration Handlers for File and JMS Integrations</a></h4>
      <div class="B_-_Body"><a name="2300510">Whether you use the built-in integrations or write your own, you must write code that handles one chunk of data.</a></div>
      <div class="B_-_Body"><a name="2300515">To write a custom integration that supports data other than files or JMS messages, your code primarily implements the interface </a><span class="cv_-_computer_voice">InboundIntegrationMessageReply</span><span style="font-family: Arial; font-size: 8.0pt"> or </span><span class="cv_-_computer_voice">InboundIntegrationStartablePlugin</span>. For custom integrations, <a href="javascript:WWHClickedPopup('integration', 'inbound-integration.21.6.html#2293646', '');" title="Custom Inbound Integrations">“Custom Inbound Integrations”</a> and skip the rest of this topic.</div>
      <div class="B_-_Body"><a name="2300519">In contrast, if you use the built-in file or JMS inbound integrations, you register a built-in plugin implementation of </a><span class="cv_-_computer_voice">InboundIntegrationMessageReply</span><span style="font-family: Arial; font-size: 8.0pt"> or </span><span class="cv_-_computer_voice">InboundIntegrationStartablePlugin</span>, depending on whether you are using messaging. BillingCenter includes plugin implementations of those interfaces that know how to process files or JMS data, depending on which one you choose. </div>
      <div class="B_-_Body"><a name="2302783">For file or JMS inbound integrations, you must write a </a><span class="e_-_emphasis">handler class</span> that processes one chunk of data. BillingCenter defines a handler plugin interface called <span class="cv_-_computer_voice">InboundIntegrationHandlerPlugin</span> that contains one method called <span class="cv_-_computer_voice">process</span>. That method handles one chunk of data that BillingCenter passes as a method of type <span class="cv_-_computer_voice">java.lang.Object</span>. Write a handler class that implements the <span class="cv_-_computer_voice">process</span> method. Downcast the <span class="cv_-_computer_voice">Object</span> to the necessary type:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2302790">for file handling, downcast to </a><span class="cv_-_computer_voice">java.nio.file.Path</span> or a <span class="cv_-_computer_voice">String</span>, depending how you configure the integration to process by files or by line</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2302791">for JMS handling, downcast to a JMS message of type </a><span class="cv_-_computer_voice">javax.jms.Message</span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2302022">Next, register the plugin in the Studio Plugins Registry. See </a><a href="javascript:WWHClickedPopup('integration', 'plugins.12.02.html#2475371', '');" title="Overview of BillingCenter Plugins">“Registering a Plugin Implementation Class”</a>. </div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="2301033">When registering your plugin implementation, you must also add one plugin parameter called </a><span class="cv_-_computer_voice">integrationservice</span>. That plugin parameter links your plugin implementation to one XML element within the <span class="cv_-_computer_voice">inbound-integration-config.xml</span> file. See <a href="javascript:WWHClickedPopup('integration', 'inbound-integration.21.3.html#2268378', '');" title="Inbound Integration Configuration XML File">“Inbound Integration Configuration XML File”</a>.</div>
      <div class="B_-_Body"><a name="2301037">If you are using either the file or JMS integrations as the startable plugin variant, your class must implement the </a><span class="cv_-_computer_voice">InboundIntegrationHandlerPlugin</span> interface.</div>
      <div class="B_-_Body"><a name="2301362">If you are using either the file or JMS integrations as the message reply variant, your class must implement the </a><span class="cv_-_computer_voice">InboundIntegrationMessageReplyHandler</span> interface. This is a subinterface of <span class="cv_-_computer_voice">InboundIntegrationHandlerPlugin</span>. Implement the basic <span class="cv_-_computer_voice">process</span> method as well as all methods of the <span class="cv_-_computer_voice">MessageReply</span> plugin. For example, implement <span class="cv_-_computer_voice">MessageReply</span> methods <span class="cv_-_computer_voice">initTools</span>, <span class="cv_-_computer_voice">suspend</span>, <span class="cv_-_computer_voice">shutdown</span>, <span class="cv_-_computer_voice">resume</span>, and <span class="cv_-_computer_voice">setDestinationID</span>. Save the parameters to your <span class="cv_-_computer_voice">initTools</span> method into private variables. Use those private variables during your <span class="cv_-_computer_voice">process</span> method find and acknowledge the original <span class="cv_-_computer_voice">Message</span> object. For related information, see <a href="javascript:WWHClickedPopup('integration', 'eventsmessaging.23.10.html#3110489', '');" title="Implementing Messaging Plugins">“Implementing a Message Reply Plugin”</a>.</div>
      <div class="B_-_Body"><a name="2339862">You can implement your plugin code in any method you choose: Gosu, Java (with no OSGi), or in OSGi (Java as an OSGi bundle). If you use Java or if you require third-party libraries, Guidewire recommends implementing your code as an OSGi plugin.</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>