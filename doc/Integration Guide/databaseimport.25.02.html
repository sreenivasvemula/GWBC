<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Introduction to Database Staging Table Import</title>
    <link rel="StyleSheet" href="css/databaseimport.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>BillingCenter Integration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-importingbillingandaccounts.fm.html#1603698">Importing Billing and Account Data</a> : <a class="WebWorks_Breadcrumb_Link" href="databaseimport.25.01.html#1603698">Importing from Database Staging Tables</a> : Introduction to Database Staging Table Import</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="1603698">Introduction to </a>Database Staging Table Import</h3>
      <div class="B_-_Body"><a name="2233178">Database staging table import provides significantly higher performance than importing individual records with entity-specific web services APIs. Staging table import avoids intermediate data formats such as XML and avoids the need to parse and transform data into internal Java objects. </a></div>
      <div class="B_-_Body"><a name="2233182">Database staging table import further improves performance by using bulk SQL Insert and Select statements that operate on entire tables at one time. Staging table import does not operate on single rows individually to import data, unlike entity-specific web services APIs that insert one row at a time.</a></div>
      <div class="B_-_Body"><a name="1603574">This topic includes: </a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'databaseimport.25.02.html#1568842', '');" title="Introduction to Database Staging Table Import" name="2221597">Staging Tables</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'databaseimport.25.02.html#1932702', '');" title="Introduction to Database Staging Table Import" name="2221632">Zone Data</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'databaseimport.25.02.html#2233274', '');" title="Introduction to Database Staging Table Import" name="2233204">Your Conversion Tool</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'databaseimport.25.02.html#1833457', '');" title="Introduction to Database Staging Table Import" name="2221662">Integrity Checks</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'databaseimport.25.02.html#2233291', '');" title="Introduction to Database Staging Table Import" name="2233212">Logical Units of Work, LUW, and LUWIDs</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'databaseimport.25.02.html#1635002', '');" title="Introduction to Database Staging Table Import" name="2221692">Load Error Tables</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'databaseimport.25.02.html#2233350', '');" title="Introduction to Database Staging Table Import" name="2233220">Exclusion Table</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'databaseimport.25.02.html#1568928', '');" title="Introduction to Database Staging Table Import" name="2221617">Load History Tables</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'databaseimport.25.02.html#1608329', '');" title="Introduction to Database Staging Table Import" name="2221739">Load Commands and Loadable Entities</a></div>
            </td>
          </tr>
        </table>
      </div>
      <h4 class="H2_-_Heading_2"><a name="1568842">Staging Tables</a></h4>
      <div class="B_-_Body"><span class="e_-_emphasis"><a name="2233225">Staging tables</a></span> are database tables that replicate almost completely the columns of corresponding operational tables. You prepare legacy or other data for bulk import directly into BillingCenter operational tables by first loading the data into staging tables. BillingCenter automatically creates a staging table for any entity defined as <span class="cv_-_computer_voice">loadable</span> with at least one property also defined as <span class="cv_-_computer_voice">loadable.</span></div>
      <h6 class="HS_-_Head_Sub"><a name="2233236">Staging Table Names</a></h6>
      <div class="B_-_Body"><a name="2233240">In the default configuration of BillingCenter, most operational tables that have names with a </a><span class="cv_-_computer_voice">bc_</span> prefix have corresponding staging tables named with a <span class="cv_-_computer_voice">bcst_ </span>prefix. Loadable data model extensions, which have operational tables named with a <span class="cv_-_computer_voice">bcx_</span> prefix, have corresponding staging tables named with a <span class="cv_-_computer_voice">bcst_</span> prefix. </div>
      <h6 class="HS_-_Head_Sub"><a name="2233261">Differences Between Staging Tables and Operational Tables</a></h6>
      <div class="B_-_Body"><a name="2233262">There are important differences between the columns of staging tables and operational tables. For example, staging tables have extra columns track to track the status of data imported into operational tables. Staging tables lack columns in their corresponding operational tables with certain non-essential business data, such as </a><span class="cv_-_computer_voice">CreateUserID</span> and <span class="cv_-_computer_voice">CreateTime</span>. However columns with essential business data are present in staging tables and their corresponding operational tables. </div>
      <h6 class="HS_-_Head_Sub"><a name="2233264">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2233265">For more information on the differences between staging tables and operational tables, see </a><a href="javascript:WWHClickedPopup('integration', 'databaseimport.25.08.html#2233653', '');" title="Populating the Staging Tables">“Populating the Staging Tables”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <h4 class="H2_-_Heading_2"><a name="1932702">Zone Data</a></h4>
      <div class="B_-_Body"><a name="1932674">BillingCenter uses zone data for the following features:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2001113">Assignment by location</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1981282">Address auto-fill</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1981283">Setting regional holidays</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="1972136">Steps to Import Zone Data</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1934532">The process to import zone data comprises these main steps: </a></div>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><span class="ri_-_run_in_header"><a name="1932675">Get or create your zone data files</a></span> – Create zone data files in comma separated value (CSV) format that contain columns for the postal code, state, city, and county of specific geographic zones. Each line in the file must use the following format:</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="CS_-_Code_Single_Line"><a name="1932676">&nbsp;&nbsp;&nbsp;&nbsp;postalcode,state,city,county</a></div>
      <div class="LP_-_List_Para"><a name="1932677">For example,</a></div>
      <div class="CS_-_Code_Single_Line"><a name="1932678">&nbsp;&nbsp;&nbsp;&nbsp;94114,CA,San Francisco,San Francisco</a></div>
      <div class="LP_-_List_Para"><a name="2186178">For more information, see </a><a href="javascript:WWHClickedPopup('integration', 'databaseimport.25.02.html#1978416', '');" title="Introduction to Database Staging Table Import">“Zone Data Files Supplied by Guidewire”</a>.</div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><span class="ri_-_run_in_header"><a name="1934582">Run the zone import command to add zone data to the zone staging table</a></span> – Run the command line tool <span class="cv_-_computer_voice">zone_import</span> in the directory <span class="cv_-_computer_voice">BillingCenter/admin/bin</span>. You can also use the web service <span class="cv_-_computer_voice">ZoneImportAPI</span> to add your zone data to the staging table. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="1981022">For example with the command line tool, your command might look like this:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="1932685">&nbsp;&nbsp;&nbsp;&nbsp;zone_import -clearstaging -import myzonedata.csv -server http://myserver:8080/pc -user myusername</a></div>
      <div class="LP_-_List_Para"><a name="1932688">For more information, see </a><a href="javascript:WWHClickedPopup('admin', 'commandsref.15.11.html#1775858', '');" title="Zone Import Command">“Zone Import Command” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('admin', 'commandsref.15.11.html#1775858', '');" title="Zone Import Command">System Administration Guide</a></span>.</div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><span class="ri_-_run_in_header"><a name="1932690">Run the table import command to bulk load the zone operational table</a></span> – Run the command line tool <span class="cv_-_computer_voice">table_import</span> in the directory <span class="cv_-_computer_voice">BillingCenter/admin/bin</span>. You can also use the web service <span class="cv_-_computer_voice">TableImportAPI</span> to bulk load the zone operational table.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="2001253">For more information, see </a><a href="javascript:WWHClickedPopup('admin', 'commandsref.15.09.html#1782787', '');" title="Table Import Command">“Table Import Command” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('admin', 'commandsref.15.09.html#1782787', '');" title="Table Import Command">System Administration Guide</a></span>.</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="1978416">Zone Data Files Supplied by Guidewire</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2292765">BillingCenter provides a collection of zone data files for various localities with small sets of zone data that you can load for development and testing purposes. The zone data files are in the following location in the Studio </a><span class="uis_-_UI_element_Studio">Project</span> window:</div>
      <div class="LP_-_List_Para"><span class="uis_-_UI_element_Studio"><a name="2292772">configuration</a></span> → <span class="uis_-_UI_element_Studio">config</span> → <span class="uis_-_UI_element_Studio">geodata</span></div>
      <div class="B_-_Body"><a name="2292776">Within the </a><span class="uis_-_UI_element_Studio">geodata</span> folder, BillingCenter stores the zone information in country-specific <span class="cv_-_computer_voice">zone-config.xml</span> files, with each file in its own specific country folder. For example, the <span class="cv_-_computer_voice">zone-config.xml</span> file that configures address-related information in Australia is in the following location in the Studio <span class="uis_-_UI_element_Studio">Project</span> window:</div>
      <div class="LP_-_List_Para"><span class="uis_-_UI_element_Studio"><a name="2292786">configuration</a></span> → <span class="uis_-_UI_element_Studio">config</span> → <span class="uis_-_UI_element_Studio">geodata</span><span class="ui_-_UI_element"> → </span><span class="uis_-_UI_element_Studio">AU</span></div>
      <div class="B_-_Body"><a name="2292787">Guidewire provides the </a><span class="cv_-_computer_voice">US-Locations.txt</span> and similar files for testing purposes to support autofill and autocomplete when users enter addresses. This data is provided on an as-is basis regarding data content. For example, the provided zone data files are not complete and may not include recent changes. </div>
      <div class="B_-_Body"><a name="2292788">Also, the formatting of individual data items in these files might not conform to your internal standards or the standards of third-party vendors that you use. For example, the names of streets and cities are formatted with mixed case letters but your standards may require all upper case letters. </a></div>
      <div class="B_-_Body"><a name="2292789">The </a><span class="cv_-_computer_voice">US-Locations.txt</span> file contains information that does not conform to United States Postal Service (USPS) standards for bulk mailings. You can edit the <span class="cv_-_computer_voice">US-Locations.txt</span> file to conform to your particular address standards, and then import that version of the file.</div>
      <h4 class="H2_-_Heading_2"><a name="2233274">Your Conversion Tool</a></h4>
      <div class="B_-_Body"><a name="2233276">A critical component of any migration process is a custom conversion tool that you write. Your conversion tool converts your legacy data into BillingCenter format and inserts the converted data into the staging tables. The conversion tool must map your legacy data format, which might be a flat file format, into a format almost identical to BillingCenter operational tables. If your legacy format is dissimilar to the BillingCenter format, which is most often the case, this tool must support complex internal logic.</a></div>
      <h4 class="H2_-_Heading_2"><a name="1833457">Integrity Checks</a></h4>
      <div class="B_-_Body"><a name="1607626">Before loading staging table data into operational database tables, BillingCenter runs many BillingCenter-specific data integrity checks. These checks find and report problems that would cause import to fail or might put BillingCenter into an inconsistent state. Integrity checks are a large set of auto-generated database queries (SQL queries) built into the application.</a></div>
      <div class="B_-_Body"><a name="1821967">You can check if any integrity checks failed at </a><span class="ui_-_UI_element">Server&nbsp;Tools </span>→ <span class="ui_-_UI_element">Info&nbsp;Pages</span> → <span class="ui_-_UI_element">Load Errors</span>. For more information, see <a href="javascript:WWHClickedPopup('admin', 'tools-server.13.22.html#1617714', '');" title="Load Errors">“Load Errors” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('admin', 'tools-server.13.22.html#1617714', '');" title="Load Errors">System Administration Guide</a></span>.</div>
      <h4 class="H2_-_Heading_2"><a name="2233291">Logical Units of Work, LUW, and LUWIDs</a></h4>
      <div class="B_-_Body"><a name="2233300">The data related to a account is spread out across many tables and potentially many rows. You must identify self-contained units of data that must load together or fail together if something is wrong within that account. BillingCenter uses the generic term </a><span class="e_-_emphasis">logical unit of work</span> (LUW) to refer to all rows across all tables as a single unit for integrity checks and loading. For example, if a account fails an integrity check, all associated records such as related <span class="cv_-_computer_voice">Address</span> records in that logical unit of work fail the integrity check with the account. </div>
      <div class="B_-_Body"><a name="2233316">Each staging table row has a </a><span class="e_-_emphasis">logical unit of work ID </span>property, called <span class="cv_-_computer_voice">LUWID</span>, which identifies the LUW grouping of this data. This topic sometimes refers to this logical unit of work ID as an LUWID. After your conversion tool populates the staging tables, your conversion tool must set the <span class="cv_-_computer_voice">LUWID</span> property to something useful for each row. For example, a pre-defined legacy account number/ID.</div>
      <div class="B_-_Body"><a name="2233323">An LUWID is used in the following ways:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2233327">LUWIDs help identify which data failed. See </a><a href="javascript:WWHClickedPopup('integration', 'databaseimport.25.02.html#1635002', '');" title="Introduction to Database Staging Table Import">“Load Error Tables”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2233328">LUWIDs identify which data to exclude from future integrity checks or load requests. See </a><a href="javascript:WWHClickedPopup('integration', 'databaseimport.25.02.html#2233350', '');" title="Introduction to Database Staging Table Import">“Exclusion Table”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <h4 class="H2_-_Heading_2"><a name="1635002">Load Error Tables</a></h4>
      <div class="B_-_Body"><a name="1635004">The </a><span class="e_-_emphasis">load error tables</span> hold data from failed data integrity checks. Do not directly read or write these tables. Instead, examine them using the <span class="ui_-_UI_element">Load Errors</span> interface. You can view these errors in BillingCenter at <span class="ui_-_UI_element">Server&nbsp;Tools </span>→ <span class="ui_-_UI_element">Info&nbsp;Pages</span> → <span class="ui_-_UI_element">Load Errors</span>. For more information about using this screen, see <a href="javascript:WWHClickedPopup('admin', 'tools-server.13.22.html#1617714', '');" title="Load Errors">“Load Errors” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('admin', 'tools-server.13.22.html#1617714', '');" title="Load Errors">System Administration Guide</a></span>. </div>
      <div class="B_-_Body"><a name="1972057">Most errors relate to a particular staging table row, so the </a><span class="ui_-_UI_element">Load Errors</span> page shows the following information:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1867607">Table</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1867612">Row number</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1867614">Logical unit of work ID</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1867616">Error message</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1867618">Data integrity check, also called the query, that failed.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1867623">In some cases, BillingCenter cannot identify or store a single LUWID for the error.</a></div>
      <h4 class="H2_-_Heading_2"><a name="2233350">Exclusion Table</a></h4>
      <div class="B_-_Body"><a name="2233354">The </a><span class="e_-_emphasis">load exclusion table</span> is a table of logical unit of work IDs to exclude from staging table processing during the next integrity check or load request. Do not directly read from or write to these tables. Instead, use web services or command line tools to populate exclusion tables from logical units of work IDs (LUWIDs) in the load error tables.</div>
      <h4 class="H2_-_Heading_2"><a name="1568928">Load History Tables</a></h4>
      <div class="B_-_Body"><a name="1608316">Load history tables store results for import processes, including rows for each integrity check, each step of the integrity check, and row counts for the expected results. Use these to verify that the table-based import tools loaded the correct amount of data. You can view this information in BillingCenter at </a><span class="ui_-_UI_element">Server&nbsp;Tools</span>→ <span class="ui_-_UI_element">Info&nbsp;Pages</span> → <span class="ui_-_UI_element">Load History</span>. For more information about using this screen, see <a href="javascript:WWHClickedPopup('admin', 'tools-server.13.20.html#1617687', '');" title="Load History">“Load History” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('admin', 'tools-server.13.20.html#1617687', '');" title="Load History">System Administration Guide</a></span>. </div>
      <h4 class="H2_-_Heading_2"><a name="1608329">Load Commands and Loadable Entities</a></h4>
      <div class="B_-_Body"><a name="1608334">BillingCenter creates staging tables during the upgrade process when the server starts. If a BillingCenter table is loadable and has at least one loadable property, BillingCenter creates a corresponding staging table for it. </a></div>
      <div class="B_-_Body"><a name="1822115">During staging table import, all loadable entities are copied from the staging tables to the operational tables. After an entity imports successfully, the application sets each entity’s load command&nbsp;ID property (</a><span class="cv_-_computer_voice">LoadCommandID</span>) to correspond to the staging table conversion run that brought the row into BillingCenter.</div>
      <div class="B_-_Body"><a name="1822057">An entity’s </a><span class="cv_-_computer_voice">LoadCommandID</span> property is always <span class="cv_-_computer_voice">null</span> for rows that were created in some other way, in other words new entities that did not enter BillingCenter through staging table import.</div>
      <div class="B_-_Body"><a name="1818940">The </a><span class="cv_-_computer_voice">LoadCommandID</span> property persists even after performing additional import jobs. The presence of the <span class="cv_-_computer_voice">LoadCommandID</span> property does not guarantee that the current data is unchanged since the row was imported. If the user, application logic, or integration APIs change the data, the <span class="cv_-_computer_voice">LoadCommandID</span> property stays the same as when the row was first imported.</div>
      <div class="B_-_Body"><a name="1796749">You can use this feature to test whether an entity was loaded using database staging tables or some other way. From your business rules or from a Java plugin, test an entity’s </a><span class="cv_-_computer_voice">LoadCommandID</span>. From Gosu, check <span class="cv_-_computer_voice">entity.LoadCommandID</span>. From Java, check the <span class="cv_-_computer_voice">entity.getLoadCommandID</span> method. If the load command is non-<span class="cv_-_computer_voice">null</span>, the entity was imported through the staging table import system. All entities with that same load command ID loaded together in one import request. If the load command is <span class="cv_-_computer_voice">null</span>, the entity was created in some way other than database table import.</div>
      <div class="B_-_Body"><a name="1796786">These load command IDs correspond to results of programmatic load requests to import staging tables. </a></div>
      <div class="B_-_Body"><a name="2233362">For example, use the command line </a><span class="cv_-_computer_voice">table_import</span> tool in the <span class="cv_-_computer_voice">BillingCenter/admin/bin</span> directory. The tool returns the <span class="cv_-_computer_voice">LoadCommandID</span>. Alternatively, you can call the web service to load database tables:</div>
      <div class="CS_-_Code_Single_Line" style="font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="cv_-_computer_voice"><a name="2233363">result = ITableImport.integrityCheckStagingTableContentsAndLoadSourceTables(...);</a></span></div>
      <div class="B_-_Body"><a name="1822106">The result of that method is a </a><span class="cv_-_computer_voice">TableImportResult</span> entity instance, which contains a <span class="cv_-_computer_voice">LoadCommandID</span> property, which is the load command ID. Call <span class="cv_-_computer_voice">result.getLoadCommandID()</span> to get the load command ID for that load request. Save that value and test specific entities to see how they were loaded. Compare that value against that saved <span class="cv_-_computer_voice">LoadCommandID</span>. Similarly, if you used the command line tools to trigger database table import, those tools return the <span class="cv_-_computer_voice">LoadCommandID</span>.</div>
      <div class="B_-_Body"><a name="1818916">You can also track load import history using the database load history tool user interface at </a><span class="ui_-_UI_element">Server&nbsp;Tools </span>→ <span class="ui_-_UI_element">Info&nbsp;Pages</span> → <span class="ui_-_UI_element">Load History</span>. For more information about using this screen, see <a href="javascript:WWHClickedPopup('admin', 'tools-server.13.20.html#1617687', '');" title="Load History">“Load History” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('admin', 'tools-server.13.20.html#1617687', '');" title="Load History">System Administration Guide</a></span>. </div>
      <div class="B_-_Body"><a name="1822088">Remember that even if an object has a load command ID that matches a known load request, its data may have changed after loading due to user actions or APIs.</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>