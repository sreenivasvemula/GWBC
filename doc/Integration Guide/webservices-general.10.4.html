<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Maintenance Tools Web Service</title>
    <link rel="StyleSheet" href="css/webservices-general.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>BillingCenter Integration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-webservices.html#2586381">Web Services</a> : <a class="WebWorks_Breadcrumb_Link" href="webservices-general.10.1.html#2586381">General Web Services</a> : Maintenance Tools Web Service</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="2586381">Maintenance Tools Web Service</a></h3>
      <div class="B_-_Body"><a name="2586423">The maintenance tools (</a><span class="cv_-_computer_voice">MaintenanceToolsAPI</span><span class="cvt_-_computer_voice_table">)</span> web service provides a set of tools available only if the system is at the <span class="cv_-_computer_voice">maintenance</span> run level or higher. </div>
      <h4 class="H2_-_Heading_2"><a name="2719145">Running Batch Processes Using Web Services</a></h4>
      <div class="B_-_Body"><a name="2586425">One of the methods in the </a><span class="cv_-_computer_voice">MaintenanceToolsAPI</span> web service is <span class="cv_-_computer_voice">startBatchProcess</span>, which runs a batch process or a writer for a work queue. The API notifies the caller that the request is received. The caller must poll the server later to see if the process failed or completed successfully. For server clusters, batch process runs only on the batch server. However, you can make the API request to any of the servers in the cluster. If the receiving server is not the batch server, the request automatically forwards to the batch server. </div>
      <div class="B_-_Body"><a name="2719234">For example, run a batch process and get the process ID of the batch process:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2719239">processID = maintenanceTools.startBatchProcess("memorymonitor");</a></div>
      <div class="B_-_Body"><a name="2719162">Terminate a batch process by process name or ID, for example:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2719221">maintenanceTools.terminateBatchProcessByName("memorymonitor");</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2719209">maintenanceTools.terminateBatchProcessByID(processID);</a></PRE>
      <div class="B_-_Body"><a name="2719195">Check the status of a batch process, for example:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2719225">maintenanceTools.batchProcessStatusByName("memorymonitor");</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2719229">maintenanceTools.batchProcessStatusByID(processID);</a></PRE>
      <div class="B_-_Body"><a name="3450917">For work queues, the status methods returns the status only of the writer thread. The status methods do not check the work queue table for remaining work items. The status of a writer reports as completed after the writer finishes adding work items for a batch to the work queue. Meanwhile, many work items in the batch may remain unprocessed.</a></div>
      <div class="B_-_Body"><a name="3450909">For the batch process methods of the maintenance tools API, the batch processes apply only to BillingCenter, not additional Guidewire applications that you integrated with it.  </a></div>
      <div class="B_-_Body"><a name="3451393">Whenever you use the </a><span class="cv_-_computer_voice">MaintenanceToolsAPI</span> web service to run a batch process provided in the base configuration, identify the batch process by its code as listed in the documentation. To run a custom batch process, identify the process by the <span class="cv_-_computer_voice">BatchProcessType</span> typecode that you added for it. The typecode must include the <span class="cv_-_computer_voice">APIRunnable</span> category to start your custom batch process with the <span class="cv_-_computer_voice">MaintenanceToolsAPI</span> web service.</div>
      <h6 class="HS_-_Head_Sub"><a name="3451394">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3451397">For the list of codes for batch processes in the base configuration, see </a><a href="javascript:WWHClickedPopup('admin', 'batch.11.10.html#2166473', '');" title="List of Work Queues and Batch Processes">“List of Work Queues and Batch Processes” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('admin', 'batch.11.10.html#2166473', '');" title="List of Work Queues and Batch Processes">System Administration Guide</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3448784">For alternatives to the </a><span class="cv_-_computer_voice">MaintenanceToolsAPI</span> web service, see <a href="javascript:WWHClickedPopup('admin', 'batch.11.05.html#2165781', '');" title="Running Work Queue Writers and Batch Processes">“Running Work Queue Writers and Batch Processes” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('admin', 'batch.11.05.html#2165781', '');" title="Running Work Queue Writers and Batch Processes">System Administration Guide</a></span>s. </div>
            </td>
          </tr>
        </table>
      </div>
      <h4 class="H2_-_Heading_2"><a name="3429410">Manipulating Work Queues Using Web Services</a></h4>
      <div class="B_-_Body"><a name="2719420">A </a><span class="e_-_emphasis">work queue</span> represents a pool of work items that can be processed in a distributed way across multiple threads or even multiple servers. Several web service APIs query or modify the existing work queue configuration. For example, APIs can get the number of the workers threads configured for this server (<span class="cv_-_computer_voice">instances</span>) and the configured delay between processing each work item (<span class="cv_-_computer_voice">throttleInterval</span>). </div>
      <div class="B_-_Body"><a name="2719443">Wake up all workers for the specified work queue across the entire cluster:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2719455">maintenanceTools.notifyQueueWorkers("ActivityEsc");</a></div>
      <div class="B_-_Body"><a name="2719567">Get the work queue names for this instance of BillingCenter:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2719586">stringArray = maintenanceTools.getWorkQueueNames();</a></div>
      <div class="B_-_Body"><a name="2719592">Get the number of instances and throttle interval for a work queue:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2719593">WorkQueueConfig wqConfig = maintenanceTools.getWorkQueueConfig("ActivityEsc");</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2719594">numInstances = wqConfig.getInstances();</a></PRE>
      <div class="B_-_Body"><a name="2719598">Set the number of instances and throttle interval for a work queue:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2719616">WorkQueueConfig wqConfig = new WorkQueueConfig;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2719638">wqConfig.setInstances(1);</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2719642">wqConfig.setThrottleInterval(999);</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2719599">WorkQueueConfig wqConfig = maintenanceTools.setWorkQueueConfig("ActivityEsc", wqConfig);</a></PRE>
      <div class="B_-_Body"><a name="2719894">Worker instances that are running stop after they complete their current work item. Then, the server creates and starts new worker instances as specified by the configuration object that you pass to the method.</a></div>
      <div class="B_-_Body"><a name="3400943">The changes made using the batch process web service API are temporary. If the server starts (or restarts) at a later time, the server rereads the values from </a><span class="cv_-_computer_voice">work-queue.xml</span> to define how to create and start workers.</div>
      <div class="B_-_Body"><a name="3387455">For these APIs, the term </a><span class="e_-_emphasis">product</span> and <span class="e_-_emphasis">cluster</span> apply to the current Guidewire product only as determined by the SOAP API server requested.</div>
      <h4 class="H2_-_Heading_2"><a name="3451346">Stopping Startable Plugins Using Web Services</a></h4>
      <div class="B_-_Body"><a name="3451347">A </a><span class="e_-_emphasis">startable plugin</span> is a special type o of code that runs without human intervention in the application server as a background process, beginning at server startup. You can stop startable plugins and start them again by using methods on the <span class="cv_-_computer_voice">MaintenanceToolsAPI</span> web service. </div>
      <div class="B_-_Body"><a name="3451348">To stop a startable plugin, call the </a><span class="cv_-_computer_voice">stopPlugin</span> method. To start a startable plugin again, call the <span class="cv_-_computer_voice">startPlugin</span> method. These methods take the plugin name in <span class="cv_-_computer_voice">String</span> format as their only argument. Plugin names are defined in the Plugin Registry in Studio. </div>
      <div class="B_-_Body"><a name="3451349">In general, startable plugins run only the batch server, but you can develop startable plugins that run distributed on all servers. Before you use the </a><span class="cv_-_computer_voice">MaintenanceToolsAPI</span> web service to start or stop a distributed startable plugin, be certain you understand the implications for state management across all servers. </div>
      <h6 class="HS_-_Head_Sub"><a name="3451350">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'plugins-startable.20.1.html#2380296', '');" title="Startable Plugins" name="3451354">“Startable Plugins”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('config', 'studio_plugins.13.1.html#3595679', '');" title="Using the Plugins Registry Editor" name="3451358">“Using the Plugins Registry Editor” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('config', 'studio_plugins.13.1.html#3595679', '');" title="Using the Plugins Registry Editor">Configuration Guide</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'plugins-startable.20.5.html#2422484', '');" title="Configuring Startable Plugins to Run on All Servers" name="3451362">“Configuring Startable Plugins to Run on All Servers”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>