<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Commission Plugins</title>
    <link rel="StyleSheet" href="css/bc-plugins.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>BillingCenter Integration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-plugins.html#3434708">Plugins</a> : <a class="WebWorks_Breadcrumb_Link" href="bc-plugins.13.01.html#3434708">Billing Plugins</a> : Commission Plugins</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="3434708">Commission Plugins</a></h3>
      <div class="B_-_Body"><a name="3434709">There are two BillingCenter commission plugins:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'bc-plugins.13.04.html#3558407', '');" title="Commission Plugins" name="3434713">“Commission Plugin”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'bc-plugins.13.04.html#3445557', '');" title="Commission Plugins" name="3434717">“Commission Override Plugin”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <h4 class="H2_-_Heading_2"><a name="3558407">Commission Plugin</a></h4>
      <div class="B_-_Body"><a name="3783592">The Commission plugin enables configuration of the selected commission rate and subplan. A subplan defines a set of restrictions and commission parameters.</a></div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3807266">Determine Whether a Charge Earns a Commission</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3807359">The </a><span class="cv_-_computer_voice">isCommissionable</span> method determines whether a specified charge earns a commission.</div>
      <PRE class="CF_-_Code_First_Line"><a name="3807458">function isCommissionable( commissionSubPlan&nbsp;: CommissionSubPlan,</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="3807584">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;charge&nbsp;: Charge, role&nbsp;: PolicyRole&nbsp;)&nbsp;: boolean</a></PRE>
      <div class="B_-_Body"><a name="3807615">The </a><span class="cv_-_computer_voice">commissionSubPlan</span> argument specifies the commission subplan to consult when determining whether to grant a commission. If the argument is <span class="cv_-_computer_voice">null</span>, the subplan associated with the policy is consulted.</div>
      <div class="B_-_Body"><a name="3807871">The </a><span class="cv_-_computer_voice">charge</span> argument specifies the relevant charge. The <span class="cv_-_computer_voice">role</span> argument specifies the producer code role for the policy, such as Primary or Secondary.</div>
      <div class="B_-_Body"><a name="3808055">If the specified charge earns a commission, the method returns </a><span class="cv_-_computer_voice">true</span>.</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3783593">Getting Potential Commission Subplans</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3725522">The plugin method </a><span class="cv_-_computer_voice">selectSubplan</span> returns an array of potential commission subplan entities based on a policy period and a commission plan. The method signature is:</div>
      <div class="CS_-_Code_Single_Line"><a name="3783207">selectSubPlan(policyPeriod : PolicyPeriod, commissionPlan : CommissionPlan) : CommissionSubPlan[]</a></div>
      <div class="B_-_Body"><a name="3783209">BillingCenter chooses the applicable subplan according to the following rules:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3725525">If the method returns a single subplan from the array, the returned subplan is used.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3725526">If the method returns more than one subplan from the array, BillingCenter chooses the first returned subplan that applies to the policy period.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3783750">If a subplan is not selected after applying the above rules, an </a><span class="cv_-_computer_voice">InvalidCommissionPlanStateException</span> is thrown.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3783751">The base configuration implementation of this method returns no items as an empty array.</a></div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3434734">Getting the Commission Rate for a Charge</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3721797">The </a><span class="cv_-_computer_voice">getCommissionRate</span> method returns the commission rate for a specified policy charge.</div>
      <div class="CS_-_Code_Single_Line"><a name="3783949">getCommissionRate( policyCommission : PolicyCommission, charge : Charge ) : BigDecimal</a></div>
      <div class="B_-_Body"><a name="3784214">BillingCenter calls the method in the following contexts:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3808155">To calculate the commission reserve for a new charge</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3808149">To retrieve the commission rate applied to an existing charge</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3784448">The base configuration implementation of the method checks for any charge or policy override of the commission rate. If an override exists, the overriding commission rate is returned. If there are no overrides, the method returns the commission rate specified in the policy’s commission subplan.</a></div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3441604">Distributing Commission Write-offs</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3441628">The charge commission entity (</a><span class="cv_-_computer_voice">ChargeCommission</span>) has several method signatures for the method called <span class="cv_-_computer_voice">writeoffCommission</span> to write off some or all of the commission. If any code calls this method, BillingCenter must distribute the write-off amount to individual item commissions (<span class="cv_-_computer_voice">ItemCommission</span> entities) associated with that charge commission.</div>
      <div class="B_-_Body"><a name="3441761">To determine how to distribute these items, BillingCenter calls the </a><span class="cv_-_computer_voice">distributeCommissionWriteoffAcrossItemCommissions</span> plugin method.</div>
      <div class="B_-_Body"><a name="3441762">The method takes two arguments:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3441776">Item commissions, as the type </a><span class="cv_-_computer_voice">List&lt;ItemCommission&gt;</span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3441795">The write-off amount, as the type </a><span class="cv_-_computer_voice">MonetaryAmount</span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3441858">The method returns a map that maps an item commissions to the write-off amount for that item. Using generics notation, the return type is </a><span class="cv_-_computer_voice">Map&lt;ItemCommission,MonetaryAmount&gt;</span>.</div>
      <div class="B_-_Body"><a name="3441909">The base configuration method sorts the item commissions by event date and adds as much write-off as possible for each commission amount that has not yet been written off. After the </a><span class="cv_-_computer_voice">distributeCommissionWriteoffAcrossItemCommissions</span> method completes and returns the mapping of item commissions to the write-off amount, BillingCenter validates the mapping. It checks the following:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3441980">Verifies the sum of the allocations are correct.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3441992">Runs validation on each of the </a><span class="cv_-_computer_voice">ItemCommission</span> entities. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3445021">Commission Rate Overrides During Producer Transfer</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3445094">If BillingCenter is transferring a producer, BillingCenter calls the plugin method </a><span class="cv_-_computer_voice">getCommissionRateOverrideDuringProducerTransferForNewPolicyCommission</span>. Your method must determine the value of the commission rate override for the newly-created policy producer code.</div>
      <div class="B_-_Body"><a name="3445206">The method’s only argument is the original policy producer code before the transfer. </a></div>
      <div class="B_-_Body"><a name="3445255">Your plugin method must return the desired commission rate override percentage as a </a><span class="cv_-_computer_voice">BigDecimal</span> value. This becomes the <span class="cv_-_computer_voice">CommissionRateOverridePercentage</span> property in the newly-created Policy Producer Code.</div>
      <div class="B_-_Body"><a name="3445342">To return no commission rate override, return the value </a><span class="cv_-_computer_voice">null</span>.</div>
      <div class="B_-_Body"><a name="3445458">The default implementation of this plugin returns the </a><span class="cv_-_computer_voice">CmsnPlanOverridePercentage</span> property in the original policy producer code.</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3434768">Custom Item Commission Allocations</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3445611">The commission payable batch process may encounter a policy commission whose earning criteria is </a><span class="cv_-_computer_voice">"Custom"</span>. If so, BillingCenter calls the commission plugin’s <span class="cv_-_computer_voice">getCustomItemCommissionAllocations</span> method to get the commission’s allocations. </div>
      <div class="B_-_Body"><a name="3445691">Its only parameter is a set of item commission entities that are available on the policy commission currently being made payable. The type of the parameter is </a><span class="cv_-_computer_voice">Set&lt;ItemCommission&gt;</span> using Gosu generics syntax.</div>
      <div class="B_-_Body"><a name="3445722">It must return a map of amounts to be made payable for the corresponding invoice item. You must map each invoice item to a </a><span class="cv_-_computer_voice">BigDecimal</span> value representing the allocation for that invoice item. BillingCenter will make earning transactions on each invoice item for the amount that you specify. The return type using Gosu generics syntax is <span class="cv_-_computer_voice">Map&lt;InvoiceItem, BigDecimal&gt;</span>.</div>
      <div class="B_-_Body"><a name="3445808">In the default plugin implementation, the behavior for the custom setting merely allocates all unpaid commission.</a></div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3445873">Determine Whether to Write Off Commission When Removing Producer Codes</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3445904">When BillingCenter transfers an item from a policy commission (</a><span class="cv_-_computer_voice">PolicyCommission</span>) to a <span class="cv_-_computer_voice">null</span> producer code, BillingCenter calls the commission plugin <span class="cv_-_computer_voice">shouldWriteoffCommissionWhenProducerCodeRemoved</span> method. In other words, when removing producer codes, BillingCenter needs to know how to handle the commission for that item. The return value of this method determines how BillingCenter handles it:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3445976">To write off the remaining reserve for any item commissions (not just override it), return </a><span class="cv_-_computer_voice">true</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3446007">To override the commission rate on the old </a><span class="cv_-_computer_voice">PolicyCommission</span> to zero percent, return <span class="cv_-_computer_voice">false</span>. This takes back any payable or paid commission as well as all reserve.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3446068">Its one parameter is the item commission (</a><span class="cv_-_computer_voice">ItemCommission</span>) with the removed producer code.</div>
      <div class="B_-_Body"><a name="3446163">In the default plugin implementation, this method always returns </a><span class="cv_-_computer_voice">true</span>.</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3806566">Determine Whether to Write Off Commission When Writing Off a Charge</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3806644">When BillingCenter writes off a charge, the commission associated with the charge can also be written off. The </a><span class="cv_-_computer_voice">shouldWriteOffActiveCommissionForChargeWrittenOff</span> plugin method is called to instruct BillingCenter how to handle the commission.</div>
      <div class="B_-_Body"><a name="3806947">To write off the commission associated with a written off charge, return </a><span class="cv_-_computer_voice">true</span>. To leave the commission unchanged, return <span class="cv_-_computer_voice">false</span>. The base configuration method always returns <span class="cv_-_computer_voice">false</span>.</div>
      <h4 class="H2_-_Heading_2"><a name="3445557">Commission Override Plugin</a></h4>
      <div class="B_-_Body"><a name="3434769">BillingCenter calls the commission override plugin (</a><span class="cv_-_computer_voice">ICommissionOverride</span>) when the user overrides the commission rate in agency bill or direct bill. This plugin determines whether to change the commission amount of an invoice item or leave it untouched and create a commission adjustment invoice item.</div>
      <div class="B_-_Body"><a name="3434770">There is one method you must implement, called </a><span class="cv_-_computer_voice">shouldCreateCommissionAdjustmentInvoiceItem</span>. It takes an invoice item, an original commission rate, and the new commission rate. The method takes commission rates as <span class="cv_-_computer_voice">BigDecimal</span> values.</div>
      <div class="B_-_Body"><a name="3434771">If your method returns </a><span class="cv_-_computer_voice">true,</span> BillingCenter leaves the invoice item unchanged and BillingCenter creates an adjustment invoice item. If you return <span class="cv_-_computer_voice">false,</span> BillingCenter modifies the invoice item and potential change the invoice paid status.</div>
      <div class="B_-_Body"><a name="3434772">BillingCenter includes a default implementation of this plugin that returns true if the item is unplanned or is a fully paid planned item.</a></div>
      <div class="B_-_Body"><a name="3434773">Write your own implementation of this plugin to customize this logic.</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>