<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Final Steps After The Database Upgrade is Complete</title>
    <link rel="StyleSheet" href="css/procedure-db-e.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>BillingCenter Upgrade Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-upgrade-e.html#1882767">Upgrading from 8.0.x</a> : <a class="WebWorks_Breadcrumb_Link" href="procedure-db-e.07.01.html#1882767">Upgrading the BillingCenter 8.0.x Database</a> : Final Steps After The Database Upgrade is Complete</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="1882767">Final Steps After The Database Upgrade is Complete</a></h3>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="1840097">This section describes the procedures to run after you have completed the upgrade procedure and migration of configurations and integrations. The processes in this section provide you with a benchmark of the new system. Completing these steps is particularly important to going live in a production environment.</a></div>
      <div class="B_-_Body"><a name="1673972">Use these procedures to revalidate the database:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('upgrade', 'procedure-db-e.07.06.html#1910598', '');" title="Validating the Database Schema" name="1500465">“Validating the Database Schema”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('upgrade', 'procedure-db-e.07.07.html#1910609', '');" title="Checking Database Consistency" name="1500469">“Checking Database Consistency”</a>, including <a href="javascript:WWHClickedPopup('upgrade', 'procedure-db-e.07.25.html#1888838', '');" title="Final Steps After The Database Upgrade is Complete">Checking that Contacts Have Unique Addresses</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('upgrade', 'procedure-db-e.07.08.html#1911524', '');" title="Creating a Data Distribution Report" name="1793806">“Creating a Data Distribution Report”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('upgrade', 'procedure-db-e.07.09.html#1910784', '');" title="Generating Database Statistics" name="1500473">“Generating Database Statistics”</a>. You can defer generating database statistics until your next scheduled maintenance window. You do not need to generate database statistics before using the upgraded BillingCenter in a production environment.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('upgrade', 'procedure-db-e.07.25.html#1500506', '');" title="Final Steps After The Database Upgrade is Complete" name="1786329">“Backing up the Database After Upgrade”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <h4 class="H2_-_Heading_2"><a name="1888838">Checking that Contacts Have Unique Addresses</a></h4>
      <div class="B_-_Body"><a name="1888842">An </a><span class="cv_-_computer_voice">Address</span> cannot be shared by more than one <span class="cv_-_computer_voice">Contact</span>. BillingCenter 8.0 includes a commit-time check that does not allow a shared reference to an address instance even when one of the referring <span class="cv_-_computer_voice">Contact</span> or <span class="cv_-_computer_voice">ContactAddress</span> instances is retired. If you have multiple contacts at the same address, you can create separate address instances with the same field values.</div>
      <div class="B_-_Body"><a name="1888843">A database consistency check on the </a><span class="cv_-_computer_voice">Contact</span> entity reports an error if it detects multiple <span class="cv_-_computer_voice">Contact</span> records using the same <span class="cv_-_computer_voice">PrimaryAddress</span>.</div>
      <div class="B_-_Body"><a name="1888850">Before using BillingCenter 8.0.4 in production, run database consistency checks to find any instances of shared references to address instances. If the consistency check reports shared addresses, contact Guidewire Support for assistance fixing your database.</a></div>
      <h4 class="H2_-_Heading_2"><a name="1885327">Completing Deferred Upgrade</a></h4>
      <div class="B_-_Body"><a name="1885440">If you have archiving enabled, and you did not set </a><span class="cv_-_computer_voice">deferCreateArchiveIndexes</span> to <span class="cv_-_computer_voice">false</span>, run the <span class="cv_-_computer_voice">Deferred Upgrade Tasks</span> batch process as soon as possible after the completion of the upgrade. To run the <span class="cv_-_computer_voice">Deferred Upgrade Tasks</span> batch process, use the <span class="cv_-_computer_voice">admin/bin/maintenance_tools</span> command:</div>
      <div class="CS_-_Code_Single_Line"><a name="1885441">maintenance_tools -password </a><span class="pc_-_parameter_in_code">password</span> -startprocess deferredupgradetasks</div>
      <h4 class="H2_-_Heading_2"><a name="1895788">Reenabling Database Logging</a></h4>
      <div class="B_-_Body"><a name="1895789">You might have disabled logging of direct insert and create index operations during the database upgrade. After you complete the database upgrade successfully, you can reenable logging by setting </a><span class="cv_-_computer_voice">allowUnloggedOperations</span> to <span class="cv_-_computer_voice">false</span> in the <span class="cv_-_computer_voice">&lt;upgrade&gt;</span> block. For example:</div>
      <PRE class="CF_-_Code_First_Line"><a name="1895790">&lt;database ...&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1895791">&nbsp;&nbsp;...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1895792">&nbsp;&nbsp;&lt;upgrade allowUnloggedOperations="false"&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1895793">&nbsp;&nbsp;&nbsp;&nbsp;...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1895794">&nbsp;&nbsp;&lt;/upgrade&gt;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1895795">&lt;/database&gt;</a></PRE>
      <div class="B_-_Body"><a name="1895796">For SQL Server, if you changed the recovery model from Full to Simple or Bulk logged during the upgrade, you can revert the recovery model. If you deferred migrating to 64-bit IDs, you might disable logging again when you perform the migration. </a></div>
      <h4 class="H2_-_Heading_2"><a name="1500506">Backing up the Database After Upgrade</a></h4>
      <div class="B_-_Body"><a name="1500507">Finally, before going live, back up the upgraded database. This provides you with a snapshot of the initial upgraded data set, if an unanticipated event occurs just after going live.</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>